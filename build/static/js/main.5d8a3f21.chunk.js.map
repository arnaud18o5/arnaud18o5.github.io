{"version":3,"sources":["reportWebVitals.js","SignUpModal.js","Header.js","ItemsList.js","Stats.js","ItemViewer.js","PoisList.js","ItemDetail.js","Workspace.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SignUpModal","props","username","password","class","id","tabindex","type","onChange","e","target","value","placeholder","className","onClick","handleRegistration","console","log","showModal","modal","bootstrap","Modal","document","getElementById","keyboard","show","Header","useState","cookies","setCookies","isLogged","setIsLogged","login","fetch","method","headers","body","JSON","stringify","response","json","data","handleCookie","message","path","cblogin","catch","error","handleLoging","logged","useEffect","undefined","updatedCookies","Object","style","width","margin","href","src","alt","handlePage","u","p","contentManager","required","role","ItemsList","items","setItems","choice","setChoice","newItems","map","item","classN","changeItem","padding","addItem","d","updatedItems","_id","handleClick","borderWidth","backgroundColor","name","deleteItem","Stats","mode","container","createElement","addPanel","panel","appendChild","dom","showPanel","i","children","length","display","cssText","addEventListener","event","preventDefault","beginTime","performance","Date","now","prevTime","frames","fpsPanel","Panel","msPanel","window","self","memory","memPanel","REVISION","begin","end","time","update","usedJSHeapSize","jsHeapSizeLimit","this","domElement","setMode","fg","bg","min","Infinity","max","round","Math","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","canvas","height","context","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","maxValue","drawImage","ItemViewer","mountRef","useRef","scene","THREE","background","raycaster","mouse","x","y","z","camera","innerWidth","innerHeight","position","renderer","setSize","current","controls","OrbitControls","enableDamping","GLTFLoader","load","link","gltf","setFromObject","add","xhr","loaded","total","mgeo","mmat","color","moon","set","ambientLight","onWindowResize","aspect","updateProjectionMatrix","render","setFromCamera","Object3D","intersects","intersectObjects","newMaterial","object","material","clone","transparent","opacity","point","posDiv","getBoundingClientRect","clientX","clientY","click","intensity","animate","requestAnimationFrame","ref","cursor","PoisList","pois","indexOf","poiImage","description","category","latitude","longitude","mapCoordinates","ItemDetail","state","setState","newData","setNewData","detail","editItem","Workspace","nItem","file","gltfFile","binFile","textureFiles","logoImageReference","nPois","avatar","setData","setItem","typeItem","setTypeItem","setPois","newPos","setNPos","refreshItemsList","token","upLoadItem","formData","FormData","append","Array","from","forEach","Headers","requestOptions","dItem","changeTypeItem","itemOnClick","toString","myInit","QRCode","download","objectReference","for","files","formdata","redirect","result","addPois","selected","accept","multiple","App","useCookies","setCookie","removeCookie","loggedInUser","setLoggedInUser","options","interactive","ReactDOM","CookiesProvider"],"mappings":"qNAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,4DC0BCQ,MA/Bf,SAAqBC,GACnB,IAAIC,EAAW,GACXC,EAAU,GAEZ,OACI,qBAAKC,MAAM,aAAaC,GAAG,gBAAgB,cAAY,OAAO,kBAAgB,0BAA0BC,SAAS,KAAjH,SACE,qBAAKF,MAAM,qCAAX,SACE,sBAAKA,MAAM,gBAAX,UACE,sBAAKA,MAAM,eAAX,UACE,oBAAIA,MAAM,cAAcC,GAAG,0BAA3B,kCACA,wBAAQE,KAAK,SAASH,MAAM,YAAY,kBAAgB,QAAQ,aAAW,aAE7E,sBAAKA,MAAM,aAAX,UACA,sBAAKA,MAAM,mBAAX,UACE,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,eACA,uBAAOE,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAOP,EAAWO,EAAEC,OAAOC,OAAOP,MAAM,eAAeQ,YAAY,WAAW,aAAW,WAAW,mBAAiB,oBAEpJ,sBAAKR,MAAM,mBAAX,UACE,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,WAAWC,SAAU,SAACC,GAAD,OAAON,EAAWM,EAAEC,OAAOC,OAAOP,MAAM,eAAeQ,YAAY,WAAW,aAAW,WAAW,mBAAiB,oBAEtJ,qBAAKC,UAAU,gCAAf,SACE,wBAAQN,KAAK,SAASO,QAAS,WAAOb,EAAMc,mBAAmBb,EAAUC,GAAWa,QAAQC,IAAI,sBAAuBb,MAAM,yCAAyC,kBAAgB,QAAtL,kCCoPlB,SAASc,EAAUC,GACH,IAAIC,IAAUC,MAAMC,SAASC,eAAeJ,GAAQ,CAChEK,UAAU,IAEJC,OAIKC,MA5Qf,SAAgBzB,GACd,IAAIC,EAAW,GACXC,EAAW,GACf,EAA8BwB,mBAAS1B,EAAM2B,SAA7C,mBAAOA,EAAP,KAAgBC,EAAhB,KACA,EAAgCF,mBAAS1B,EAAM6B,UAA/C,mBAAOA,EAAP,KAAiBC,EAAjB,KA6DA,SAASC,IACPC,MAAM,qDAAqD,CACzDC,OAAO,OACPC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEpC,SAAUA,EACjCC,SAAUA,MACTT,MAAK,SAAC6C,GAAD,OACNA,EAASC,UAEV9C,MAAK,SAAC+C,GAAD,OAgCR,SAAiBA,GACfxC,EAAMyC,aAAa,OAAQ,QAASD,EAAKE,QAAS,CAACC,KAAK,MACxD3C,EAAMyC,aAAa,OAAQ,WAAYxC,EAAU,CAAC0C,KAAK,MACvD3C,EAAMyC,aAAa,OAAQ,WAAY,OAAQ,CAACE,KAAK,MACrDb,EAAY,QAnCVc,CAAQJ,MAETK,OAAM,SAACC,GAsCR7B,EAAU,0BAnCVjB,EAAM+C,aAAa,WAuCrB,OAlHAhC,QAAQC,IAAIhB,EAAMgD,QAsClBC,qBAAU,WACR,GAA8B,OAA3BjD,EAAM2B,QAAQ1B,eAAgDiD,IAA3BlD,EAAM2B,QAAQ1B,SAAuB,CACzEc,QAAQC,IAAI,sBACZ,IAAImC,EAAiBnD,EAAM2B,QAC3BwB,EAAetB,SAAW,OAC1BD,EAAWuB,QAGXrB,EAAY9B,EAAM2B,QAAQE,YAE3B,CAAC7B,EAAM2B,QAAS1B,IAEnBgD,qBAAU,WACR,GAAe,OAAZtB,EAAiB,CAClB,IAAIwB,EAAiB,IAAIC,OACzBD,EAAetB,SAAW,QAC1BD,EAAWuB,QAGXrB,EAAY9B,EAAM2B,QAAQE,YAE3B,CAACF,IAsDJZ,QAAQC,IAAI,cAAgBa,GACZ,SAAbA,EAEG,mCACA,sBAAK1B,MAAM,iBAAX,UACE,sBAAKA,MAAM,4CAAX,UACA,mBAAGA,MAAM,eAAekD,MAAO,CAACC,MAAM,KAAMC,OAAQ,KAAKC,KAAK,IAA9D,SAAkE,qBAAKC,IAAI,YAAYC,IAAI,GAAGJ,MAAM,OAAOnD,MAAM,oCAC/G,qBAAKA,MAAM,wBAAX,SACE,wBAAQU,QAAS,kBAAMb,EAAM2D,WAAW,SAASxD,MAAM,+CAAvD,oBAEF,qBAAKA,MAAM,wBAAX,SACE,wBAASU,QAAS,kBAAMb,EAAM2D,WAAW,cAAaxD,MAAM,wCAA5D,+BAGJ,qBAAKS,UAAU,2CAAf,SACE,wBAAQA,UAAU,kBAAkBC,QApC9C,WACEb,EAAMyC,aAAa,QAAS,SAC5BzC,EAAMyC,aAAa,QAAS,YAC5BzC,EAAMyC,aAAa,OAAQ,WAAY,QAAS,CAACE,KAAK,MACtDb,EAAY,UAgCJ,SAA0DH,EAAQ1B,kBAMrD,UAAb4B,EAEJ,qCACE,sBAAK1B,MAAM,iBAAX,UACE,sBAAKA,MAAM,4CAAX,UACA,qBAAKA,MAAM,wBAAX,SACE,wBAASU,QAAS,kBAAMb,EAAM2D,WAAW,SAASxD,MAAM,+CAAxD,SACE,qBAAKsD,IAAI,oBAAoBC,IAAI,SAGnC,qBAAKvD,MAAM,wBAAX,SACE,wBAASU,QAAS,kBAAMb,EAAM2D,WAAW,SAASxD,MAAM,+CAAxD,oBAEF,qBAAKA,MAAM,wBAAX,SACE,wBAASU,QAAS,kBAAMb,EAAM2D,WAAW,cAAaxD,MAAM,wCAA5D,+BAGJ,sBAAKS,UAAU,2CAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,wBAAQT,MAAM,wBAAwBU,QAAS,kBAAMI,EAAU,kBAA/D,qBAEF,qBAAKL,UAAU,mBAAf,SACE,wBAAQT,MAAM,kBAAkBU,QAAS,kBAAMI,EAAU,kBAAzD,6BAIN,cAAC,EAAD,CAAaH,mBAlFrB,SAAkB8C,EAAGC,GACnB5D,EAAW2D,EACX1D,EAAW2D,EACX7B,MAAM,wDAAwD,CAC5DC,OAAO,OACPC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEpC,SAAU2D,EACjC1D,SAAU2D,EACVC,eAAgB,MACfrE,MAAK,SAAC6C,GACPP,UAyEI,qBAAK5B,MAAM,aAAaC,GAAG,gBAAgB,cAAY,OAAO,kBAAgB,0BAA0BC,SAAS,KAAjH,SACE,qBAAKF,MAAM,qCAAX,SACE,sBAAKA,MAAM,gBAAX,UACE,sBAAKA,MAAM,eAAX,UACE,oBAAIA,MAAM,cAAcC,GAAG,0BAA3B,mCACA,wBAAQE,KAAK,SAASH,MAAM,YAAY,kBAAgB,QAAQ,aAAW,aAE7E,sBAAKA,MAAM,aAAX,UACA,sBAAKA,MAAM,mBAAX,UACE,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,eACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOP,EAAWO,EAAEC,OAAOC,OAAOC,YAAY,WAAW,aAAW,WAAW,mBAAiB,oBAEpJ,sBAAKR,MAAM,mBAAX,UACE,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,WAAWH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAON,EAAWM,EAAEC,OAAOC,OAAOC,YAAY,WAAW,aAAW,WAAW,mBAAiB,oBAEtJ,qBAAKC,UAAU,gCAAf,SACE,wBAAQN,KAAK,SAASH,MAAM,yCAAyC,kBAAgB,QAAQU,QAAS,kBAAMkB,KAA5G,iCAMV,qBAAK5B,MAAM,aAAaC,GAAG,sBAAsB,cAAY,OAAO,kBAAgB,0BAA0BC,SAAS,KAAvH,SACA,qBAAKF,MAAM,qCAAX,SACE,sBAAKA,MAAM,gBAAX,UACE,sBAAKA,MAAM,eAAX,UACE,oBAAIA,MAAM,cAAcC,GAAG,0BAA3B,mCACA,wBAAQE,KAAK,SAASH,MAAM,YAAY,kBAAgB,QAAQ,aAAW,aAE7E,sBAAKA,MAAM,aAAX,UACA,sBAAKA,MAAM,mBAAX,UACE,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,OAAOH,MAAM,0BAA0BI,SAAU,SAACC,GAAD,OAAOP,EAAWO,EAAEC,OAAOC,OAAON,GAAG,2BAA2B,mBAAiB,sDAAsD2D,UAAQ,IAC5M,qBAAK3D,GAAG,mCAAmCD,MAAM,mBAAjD,2CAIF,sBAAKA,MAAM,mBAAX,UACE,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,WAAWH,MAAM,0BAA0BI,SAAU,SAACC,GAAD,OAAON,EAAWM,EAAEC,OAAOC,OAAON,GAAG,2BAA2B,mBAAiB,sDAAsD2D,UAAQ,IAChN,qBAAK3D,GAAG,mCAAmCD,MAAM,mBAAjD,2CAIA,qBAAKS,UAAU,gCAAf,SACE,wBAAQN,KAAK,SAASH,MAAM,yCAAyC,kBAAgB,QAAQU,QAAS,kBAAMkB,KAA5G,qCAUdD,EAAY,SAEV,mCACE,sBAAK3B,MAAM,iBAAX,UACE,sBAAKA,MAAM,4CAAX,UACE,qBAAKA,MAAM,wBAAX,SACE,wBAASU,QAAS,kBAAMb,EAAM2D,WAAW,SAASxD,MAAM,+CAAxD,SACE,qBAAKsD,IAAI,oBAAoBC,IAAI,SAGrC,qBAAKvD,MAAM,wBAAX,SACE,wBAASU,QAAS,kBAAMb,EAAM2D,WAAW,SAASxD,MAAM,+CAAxD,oBAEF,qBAAKA,MAAM,wBAAX,SACE,wBAASU,QAAS,kBAAMb,EAAM2D,WAAW,cAAaxD,MAAM,wCAA5D,+BAGJ,qBAAKS,UAAU,2CAAf,SACE,qBAAKT,MAAM,4BAA4B6D,KAAK,SAA5C,SACE,sBAAM7D,MAAM,kBAAZ,mC,6BCvPC,SAAS8D,EAAUjE,GAC9B,MAA0B0B,mBAAS,MAAnC,mBAAOwC,EAAP,KAAcC,EAAd,KACA,EAA4BzC,mBAAS,MAArC,mBAAO0C,EAAP,KAAeC,EAAf,KAqDA,OAnDApB,qBAAU,WAGF,GAFJlC,QAAQC,IAAI,8BAEW,OAAhBhB,EAAMkE,MAAe,CACpB,IAAII,EAAWtE,EAAMkE,MACrBI,EAASC,KAAI,SAACC,GACPA,IAASJ,IACRI,EAAKC,OAAS,6CAEtBN,EAASG,MAGlB,CAACtE,IAaJiD,qBAAU,WACNlC,QAAQC,IAAI,4BACE,OAAXoD,GACCF,EAAMK,KAAI,SAACC,GACY,kDAAhBA,EAAKC,SACJzE,EAAM0E,WAAWF,GACjBzD,QAAQC,IAAI,0BAIzB,CAACkD,IAgBS,OAAVA,EAEK,qBAAKtD,UAAU,8BAA8ByC,MAAkD,CAACsB,QAAQ,KAAxG,SAEI,sBAAKxE,MAAM,mBAAmBkD,MAAO,CAACE,OAAO,KAA7C,UACI,sBAAK3C,UAAU,8EAAf,wBAAwG,wBAAQT,MAAM,2BAA2BU,QAASb,EAAM4E,QAAxD,kBACvGV,EAAMK,KAAI,SAAAM,GAAC,OACR,wBAAQ1E,MAAO0E,EAAEJ,OAAQ,eAAa,OAAO5D,QAAS,kBAnB1E,SAAqBT,GACb,IAAI0E,EAAeZ,EAAMK,KAAI,SAACC,GAAD,OAAUA,EAAKO,MAAQ3E,EAAb,2BAChCoE,GADgC,IAEnCC,OAAQ,kDAF2B,2BAG3BD,GAH2B,IAInCC,OAAO,8CACPP,EAAMK,KAAI,SAACC,GAAaA,EAAKO,MAAQ3E,GAAKiE,EAAUH,MACxDC,EAASW,GAY+DE,CAAYH,EAAEE,MAA1E,SAAgF,sBAAKnE,UAAU,qEAAqEyC,MAAO,CAAC4B,YAAY,IAAKC,gBAAgB,eAA7H,UAA8IL,EAAEM,KAAK,wBAAQhF,MAAM,uDAAuDU,QAAS,kBAAMb,EAAMoF,WAAWP,EAAEE,MAAvG,4BAQjP,gD,oBCxERM,G,MAAQ,SAARA,IAEH,IAAIC,EAAO,EAEPC,EAAYlE,SAASmE,cAAe,OAWxC,SAASC,EAAUC,GAGlB,OADAH,EAAUI,YAAaD,EAAME,KACtBF,EAIR,SAASG,EAAWzF,GAEnB,IAAM,IAAI0F,EAAI,EAAGA,EAAIP,EAAUQ,SAASC,OAAQF,IAE/CP,EAAUQ,SAAUD,GAAIzC,MAAM4C,QAAUH,IAAM1F,EAAK,QAAU,OAI9DkF,EAAOlF,EAzBRmF,EAAUlC,MAAM6C,QAAU,uEAC1BX,EAAUY,iBAAkB,SAAS,SAAWC,GAE/CA,EAAMC,iBACNR,IAAcP,EAAOC,EAAUQ,SAASC,WAEtC,GAyBH,IAAIM,GAAcC,aAAeC,MAAOC,MAAOC,EAAWJ,EAAWK,EAAS,EAE1EC,EAAWnB,EAAU,IAAIJ,EAAMwB,MAAO,MAAO,OAAQ,SACrDC,EAAUrB,EAAU,IAAIJ,EAAMwB,MAAO,KAAM,OAAQ,SAEvD,GAAKE,OAAOC,KAAKT,aAAeQ,OAAOC,KAAKT,YAAYU,OAEvD,IAAIC,EAAWzB,EAAU,IAAIJ,EAAMwB,MAAO,KAAM,OAAQ,SAMzD,OAFAhB,EAAW,GAEJ,CAENsB,SAAU,GAEVvB,IAAKL,EAELE,SAAUA,EACVI,UAAWA,EAEXuB,MAAO,WAENd,GAAcC,aAAeC,MAAOC,OAIrCY,IAAK,WAEJV,IAEA,IAAIW,GAASf,aAAeC,MAAOC,MAInC,GAFAK,EAAQS,OAAQD,EAAOhB,EAAW,KAE7BgB,GAAQZ,EAAW,MAEvBE,EAASW,OAAmB,IAATZ,GAAoBW,EAAOZ,GAAY,KAE1DA,EAAWY,EACXX,EAAS,EAEJO,GAAW,CAEf,IAAID,EAASV,YAAYU,OACzBC,EAASK,OAAQN,EAAOO,eAAiB,QAASP,EAAOQ,gBAAkB,SAM7E,OAAOH,GAIRC,OAAQ,WAEPjB,EAAYoB,KAAKL,OAMlBM,WAAYpC,EACZqC,QAAS/B,KAMXR,EAAMwB,MAAQ,SAAW1B,EAAM0C,EAAIC,GAElC,IAAIC,EAAMC,IAAUC,EAAM,EAAGC,EAAQC,KAAKD,MACtCE,EAAKF,EAAOnB,OAAOsB,kBAAoB,GAEvCC,EAAQ,GAAKF,EAAIG,EAAS,GAAKH,EAClCI,EAAS,EAAIJ,EAAIK,EAAS,EAAIL,EAC9BM,EAAU,EAAIN,EAAIO,EAAU,GAAKP,EACjCQ,EAAc,GAAKR,EAAIS,EAAe,GAAKT,EAExCU,EAASzH,SAASmE,cAAe,UACrCsD,EAAOxF,MAAQgF,EACfQ,EAAOC,OAASR,EAChBO,EAAOzF,MAAM6C,QAAU,yBAEvB,IAAI8C,EAAUF,EAAOG,WAAY,MAejC,OAdAD,EAAQE,KAAO,QAAY,EAAId,EAAO,gCACtCY,EAAQG,aAAe,MAEvBH,EAAQI,UAAYtB,EACpBkB,EAAQK,SAAU,EAAG,EAAGf,EAAOC,GAE/BS,EAAQI,UAAYvB,EACpBmB,EAAQM,SAAUnE,EAAMqD,EAAQC,GAChCO,EAAQK,SAAUX,EAASC,EAASC,EAAaC,GAEjDG,EAAQI,UAAYtB,EACpBkB,EAAQO,YAAc,GACtBP,EAAQK,SAAUX,EAASC,EAASC,EAAaC,GAE1C,CAENjD,IAAKkD,EAELvB,OAAQ,SAAW7G,EAAO8I,GAEzBzB,EAAMI,KAAKJ,IAAKA,EAAKrH,GACrBuH,EAAME,KAAKF,IAAKA,EAAKvH,GAErBsI,EAAQI,UAAYtB,EACpBkB,EAAQO,YAAc,EACtBP,EAAQK,SAAU,EAAG,EAAGf,EAAOK,GAC/BK,EAAQI,UAAYvB,EACpBmB,EAAQM,SAAUpB,EAAOxH,GAAU,IAAMyE,EAAO,KAAO+C,EAAOH,GAAQ,IAAMG,EAAOD,GAAQ,IAAKO,EAAQC,GAExGO,EAAQS,UAAWX,EAAQJ,EAAUN,EAAIO,EAASC,EAAcR,EAAIS,EAAcH,EAASC,EAASC,EAAcR,EAAIS,GAEtHG,EAAQK,SAAUX,EAAUE,EAAcR,EAAIO,EAASP,EAAIS,GAE3DG,EAAQI,UAAYtB,EACpBkB,EAAQO,YAAc,GACtBP,EAAQK,SAAUX,EAAUE,EAAcR,EAAIO,EAASP,EAAIF,GAAS,EAAMxH,EAAQ8I,GAAeX,OAQrFxD,I,eCxJA,SAASqE,EAAW1J,GAC/B,IAAM2J,EAAWC,iBAAO,MACxB,EAAsBlI,oBAAS,GAA/B,6BA4IA,OA1IAuB,qBAAU,WACV,IACE4G,EAAQ,IAAIC,QAClBD,EAAME,WAAa,IAAID,QAAa,UACpC,IAAME,EAAY,IAAIF,YAChBG,EAAQ,IAAIH,UACdI,EAAI,EACJC,EAAI,EACJC,EAAI,EAEFC,EAAS,IAAIP,oBACf,GACC/C,OAAOuD,WAAevD,OAAOwD,YAC9B,GACA,KAEJF,EAAOG,SAASJ,EAAI,GACpB,IAAMK,EAAW,IAAIX,gBACrBW,EAASC,QAA2B,GAAnB3D,OAAOuD,WAAsC,GAArBvD,OAAOwD,aAChDZ,EAASgB,QAAQhF,YAAa8E,EAAS9C,YACvC,IAAMiD,EAAW,IAAIC,IAAcR,EAAQI,EAAS9C,YACpDiD,EAASE,eAAgB,GAGV,IAAIC,KACZC,KACH,iDAAmDhL,EAAMiL,MACzD,SAAUC,GACNA,EAAKrB,MAAM1E,KAAO,QACR,IAAI2E,QAAaqB,cAAcD,EAAKrB,OAC9CA,EAAMuB,IAAIF,EAAKrB,UAEnB,SAACwB,GACGtK,QAAQC,IAAKqK,EAAIC,OAASD,EAAIE,MAAS,IAAM,eAEjD,SAACzI,GACG/B,QAAQC,IAAI8B,MAGpB,IAAM0I,EAAO,IAAI1B,iBAAqB,EAAE,GAChC2B,EAAO,IAAI3B,uBAA2B,CAAC4B,MAAO,WAC9CC,EAAO,IAAI7B,OAAW0B,EAAKC,GACjCE,EAAKxG,KAAO,eACK,IAAI2E,aAAiB,UACzBU,SAASoB,IAAI,EAAE,EAAE,GAC5B,IAAMC,EAAe,IAAI/B,eAAmB,UAIhD,SAASgC,IACLzB,EAAO0B,OAAShF,OAAOuD,WAAevD,OAAOwD,YAC7CF,EAAO2B,yBACPvB,EAASC,QAA2B,GAAnB3D,OAAOuD,WAAoC,GAAnBvD,OAAOwD,aAChD0B,IAwBJ,SAASA,IACPjC,EAAUkC,cAAejC,EAAOI,GAKlB,IAAI8B,IAElB,IAFA,IACMC,EAAapC,EAAUqC,iBAAkBxC,EAAM9D,UAC5CD,EAAI,EAAGA,EAAIsG,EAAWpG,OAAQF,IAAK,CAG1C,IAAMwG,EAAcF,EAAWtG,GAAGyG,OAAOC,SAASC,QAClDH,EAAYI,aAAc,EAC1BJ,EAAYK,QAAU,GACtBP,EAAWtG,GAAGyG,OAAOC,SAAWF,EACvB,IAANxG,IACDoE,EAAIkC,EAAW,GAAGQ,MAAM1C,EACxBC,EAAIiC,EAAW,GAAGQ,MAAMzC,EACxBC,EAAIgC,EAAW,GAAGQ,MAAMxC,GAQ5BrD,OAAOZ,iBAAiB,SAExB,SAAiBC,GACb,GAAwB,OAArBuD,EAASgB,QAAiB,CAC3B,IAAIkC,EAASlD,EAASgB,QAAQmC,wBAC9B,GAAG1G,EAAM2G,QAAUF,EAAO3C,GAAK9D,EAAM2G,QAAUF,EAAO3C,EAAI2C,EAAOvJ,OAAS8C,EAAM4G,QAAUH,EAAO1C,GAAK/D,EAAM4G,QAAUH,EAAO1C,EAAI0C,EAAO9D,OAAO,CAC7I,IAAIyB,EAAWmB,EAAKnB,SACpBxK,EAAMiN,MAAMzC,EAASN,EAAGM,EAASL,EAAGK,EAASJ,QAPX,GAc5CuB,EAAKnB,SAASoB,IAAI1B,EAAEC,EAAEC,GACpBP,EAAMuB,IAAIO,GACRlB,EAASwB,OAAOpC,EAAOQ,GAI3B,SAASyB,IACLzB,EAAO0B,OAAShF,OAAOuD,WAAavD,OAAOwD,YAC3CF,EAAO2B,yBACPvB,EAASC,QAAQ3D,OAAOuD,WAAYvD,OAAOwD,aAC3C0B,IAjFAJ,EAAaqB,UAAY,EACzBrD,EAAMuB,IAAKS,GACf9E,OAAOZ,iBAAiB,SAAU2F,GAAgB,GAOlD/E,OAAOZ,iBAAiB,eAExB,SAAqBC,GACjB,GAAwB,OAArBuD,EAASgB,QAAiB,CAC7B,IAAIkC,EAASlD,EAASgB,QAAQmC,wBAC3B1G,EAAM2G,QAAUF,EAAO3C,GAAK9D,EAAM2G,QAAUF,EAAO3C,EAAI2C,EAAOvJ,OAAS8C,EAAM4G,QAAUH,EAAO1C,GAAK/D,EAAM4G,QAAUH,EAAO1C,EAAI0C,EAAO9D,SACpIkB,EAAMC,GAAO9D,EAAM2G,QAAUF,EAAO3C,GAAK2C,EAAOvJ,MAAU,EAAI,EAC9D2G,EAAME,IAAS/D,EAAM4G,QAAUH,EAAO1C,GAAK0C,EAAO9D,OAAW,EAAI,OA4DzEhC,OAAOZ,iBAAiB,SAAU2F,GAAgB,GAtDlD,SAASqB,IACLC,sBAAsBD,GAEtBvC,EAASrD,SAET0E,IA0DJkB,KAGO,IAKC,qBAAKE,IAAK1D,EAAUtG,MAAO,CAACiK,OAAQ,QAAQlN,GAAG,OC3JxC,SAASmN,EAASvN,GAE7B,OACI,mCACI,qBAAKY,UAAU,OAAOyC,MAAO,CAACC,MAAO,OAArC,SACI,sBAAKnD,MAAM,YAAYC,GAAG,mBAA1B,UACI,qBAAKQ,UAAU,8EAAf,8CACCZ,EAAMwN,KAAKjJ,KAAI,SAAAM,GAAC,OACb,sBAAK1E,MAAM,iBAAX,UACI,oBAAIA,MAAM,mBAAmBC,GAAG,aAAhC,SACA,yBAAQD,MAAM,mBAAmBG,KAAK,SAAS,iBAAe,WAAW,iBAAgB,YAAcN,EAAMwN,KAAKC,QAAQ5I,GAAI,gBAAc,OAAO,gBAAe,WAAa7E,EAAMwN,KAAKC,QAAQ5I,GAAlM,UACI,qBAAKxB,MAAO,CAACC,MAAM,OAAOG,IAAK,iDAAiDoB,EAAE6I,WADtF,MAC0G7I,EAAEM,UAG5G,qBAAK/E,GAAI,aAAeJ,EAAMwN,KAAKC,QAAQ5I,GAAI1E,MAAM,mCAAmC,kBAAiB,UAAYH,EAAMwN,KAAKC,QAAQ5I,GAAI,iBAAe,oBAA3J,SACI,sBAAK1E,MAAM,iBAAX,UAEI,8BAAG,oDAAgC0E,EAAE8I,eACrC,8BAAG,iDAA6B9I,EAAE+I,YAClC,8BAAG,iDAA6B/I,EAAEgJ,SAAlC,MAA+ChJ,EAAEiJ,aACjD,8BAAG,iDAAH,MAAmCjJ,EAAEkJ,eAAe7D,EAApD,SAA6DrF,EAAEkJ,eAAe5D,EAA9E,SAAuFtF,EAAEkJ,eAAe3D,uBCpB7H,SAAS4D,EAAWhO,GAE/B,MAA0B0B,oBAAS,GAAnC,mBAAOuM,EAAP,KAAcC,EAAd,KACA,EAA8BxM,mBAAS1B,EAAMwC,MAA7C,mBAAO2L,EAAP,KAAgBC,EAAhB,KASA,OAPAnL,qBAAU,WACS,IAAZkL,IACCC,EAAWpO,EAAMwC,MACjBzB,QAAQC,IAAI,eAElB,CAACmN,IAECF,EAeI,mCACI,sBAAKrN,UAAU,2BAAf,UACI,sBAAKA,UAAU,uCAAf,UACI,6BAAKZ,EAAMqO,SACX,uBAAO/N,KAAK,OAAOK,YAAaX,EAAMwC,KAAKjC,SAAU,SAACC,GAAD,OAAO4N,EAAW5N,EAAEC,OAAOC,aAEpF,8BACA,wBAAQP,MAAM,2BAA2BU,QAAS,WAC9Cb,EAAMsO,SAAStO,EAAMI,GAAI+N,EAASnO,EAAMqO,QACxCH,GAAS,IAFb,6BApBR,mCACA,sBAAKtN,UAAU,uBAAf,UACI,sBAAKA,UAAU,uCAAf,UACI,6BAAKZ,EAAMqO,SACX,4BAAIF,OAER,wBAAQhO,MAAM,2BAA2BU,QAAS,kBAAMqN,GAAS,IAAjE,uBCmgBDK,MAjhBf,SAAmBvO,GACf,IACIwO,EAAQ,IAqIZ,WACI9G,KAAKvC,KAAO,GACZuC,KAAKiG,YAAc,GACnBjG,KAAKmG,SAAW,GAChBnG,KAAKoG,UAAY,GACjBpG,KAAKkG,SAAW,GAChBlG,KAAK+G,KAAO,KACZ/G,KAAKgH,SAAW,KAChBhH,KAAKiH,QAAU,KACfjH,KAAKkH,aAAe,KACpBlH,KAAKmH,mBAAqB,MA9I1BC,EAAQ,IAiJZ,WACIpH,KAAKqH,OAAS,KACdrH,KAAKvC,KAAO,GACZuC,KAAKiG,YAAc,GACnBjG,KAAKkG,SAAW,GAChBlG,KAAKmG,SAAW,GAChBnG,KAAKoG,UAAY,GACjBpG,KAAKwC,EAAI,IACTxC,KAAKyC,EAAI,IACTzC,KAAK0C,EAAI,KAzJTjF,EAAO,GACX,EAAwBzD,mBAAS,MAAjC,mBAAOc,EAAP,KAAawM,EAAb,KACA,EAAwBtN,mBAAS,MAAjC,mBAAO8C,EAAP,KAAayK,EAAb,KACA,EAA0BvN,mBAAS,MAAnC,mBAAOuM,EAAP,KAAcC,EAAd,KACA,EAAgCxM,mBAAS,YAAzC,mBAAOwN,EAAP,KAAiBC,EAAjB,KACA,EAAwBzN,oBAAS,GAAjC,mBAAO8L,EAAP,KAAa4B,EAAb,KACA,EAA0B1N,mBAAS,CAACwI,EAAG,IAAKC,EAAE,IAAKC,EAAE,MAArD,mBAAOiF,EAAP,KAAeC,EAAf,KAcA,SAASC,IACLvN,MAAM,gEAAgE,CAClEC,OAAQ,MACRC,QAAQ,CAAC,cAAgB,UAAWlC,EAAM2B,QAAQ6N,SAAS/P,MAAK,SAAC6C,GAC7D,OAAOA,EAASC,UACf9C,MAAK,SAAC+C,GAAD,OAAUwM,EAAQxM,MACvBK,OAAM,SAACrC,GAAD,OAmIfwO,EAAQ,WACRC,EAAQ,SAjIZ,SAASQ,IACLvB,EAAS,iBACT,IAAIwB,EAAW,IAAIC,SAMnB,GALAD,EAASE,OAAO,OAAQzK,GACxBuK,EAASE,OAAO,cAAepB,EAAMb,aACrC+B,EAASE,OAAO,WAAYpB,EAAMZ,UAClC8B,EAASE,OAAO,WAAYpB,EAAMX,UAClC6B,EAASE,OAAO,YAAapB,EAAMV,WACnB,OAAboB,EACCQ,EAASE,OAAO,SAAUpB,EAAMC,MAChCzM,MAAM,kDAAkD,CACpDC,OAAQ,OACRC,QAAQ,CAAC,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OACnDrN,KAAMuN,IACPjQ,MAAK,SAAC6C,GACL,OAAOA,EAASC,UACjB9C,MAAK,SAAC+C,GACe,sDAAjBA,EAAKE,SACJwL,EAAS,kBACTqB,KAGArB,EAAS,mBAIhB,GAAgB,OAAbgB,EAAkB,CACN,2BAAOV,EAAME,UAAb,IAAuBpO,KAAM,oBAC9B,2BAAOkO,EAAMG,SAAb,IAAsBrO,KAAM,iBAC3CoP,EAASE,OAAO,OAAQpB,EAAME,UAC9BgB,EAASE,OAAO,MAAOpB,EAAMG,SAC7Be,EAASE,OAAO,qBAAsBpB,EAAMK,oBAClB,OAAvBL,EAAMI,aACTiB,MAAMC,KAAKtB,EAAMI,cAAcmB,SAAQ,SAAAvL,GACnCkL,EAASE,OAAO,eAAgBpL,EAAMA,EAAKW,SAK3CuK,EAASE,OAAO,oBAAgB1M,IAEpB,IAAI8M,SACVJ,OAAO,gBAAiB,UAAY5P,EAAM2B,QAAQ6N,OAE5D,IAAIS,EAAiB,CACjBhO,OAAQ,OAERC,QAAQ,CAAC,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OACnDrN,KAAMuN,EACNpK,KAAM,QAEVtD,MAAM,oDACFiO,GACFxQ,MAAK,SAAC6C,GACJ,OAAOA,EAASC,UACjB9C,MAAK,SAAC+C,GACe,sDAAjBA,EAAKE,SACJwL,EAAS,kBACTqB,KAGArB,EAAS,eAOzB,SAASgC,EAAM9P,GACX,IAAM6P,EAAiB,CACnBhO,OAAQ,SACRC,QAAQ,CAAC,cAAgB,UAAYlC,EAAM2B,QAAQ6N,QAEvDxN,MAAM,yDAAyD5B,EAAI6P,GAAgBxQ,MAAK,SAAC6C,GACrFiN,OAIR,SAASY,EAAezP,GAEhByO,EADS,MAAVzO,EACa,KAEE,MAAVA,EACQ,KAGA,YA8CpB,SAASsE,EAAYR,GAEjByK,EADgBzK,GAIpB,SAASI,IACLsJ,EAAS,WAGb,SAASkC,EAAYlG,EAAGC,EAAGC,GACnB0E,EAAM5E,EAAIA,EAAEmG,WACZvB,EAAM3E,EAAIA,EAAEkG,WACZvB,EAAM1E,EAAIA,EAAEiG,WACZf,EAAQ,CACJpF,EAAGA,EAAEmG,WACLlG,GAAIA,EAAI,GAAGkG,WACXjG,EAAGA,EAAEiG,aAETtP,QAAQC,IAAIqO,EAAOnF,EAAGmF,EAAOlF,EAAGkF,EAAOjF,GA1K/CnH,qBAAU,WACIjD,EAAM2B,QACI,SAAjB3B,EAAMgD,QACLuM,MAEL,CAACvP,IAGJiD,qBAAU,eAsGVA,qBAAU,WACNiL,EAAS,kBACV,CAAC1J,IAEJvB,qBAAU,WACM,OAATT,GAA2B,YAAVyL,GAChBC,EAAS,kBAEbnN,QAAQC,IAAI,mBACb,CAACwB,IAuDJ,IAAM8L,EAAW,SAAClO,EAAIoC,EAAM6L,GACxB,IACIiC,EACU,aAAXjC,EACCiC,EAAS,CAAErO,OAAQ,QAChBC,QAAS,CAAE,eAAgB,mBAAqB,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OAC1FrN,KAAMC,KAAKC,UAAU,CAAEuL,SAAUpL,KAGrB,gBAAX6L,EACJiC,EAAS,CAAErO,OAAQ,QAChBC,QAAS,CAAE,eAAgB,mBAAqB,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OAC1FrN,KAAMC,KAAKC,UAAU,CAAEsL,YAAanL,KAGxB,SAAX6L,EACJiC,EAAS,CAAErO,OAAQ,QAChBC,QAAS,CAAE,eAAgB,mBAAqB,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OAC1FrN,KAAMC,KAAKC,UAAU,CAAE8C,KAAM3C,KAGjB,cAAX6L,EACJiC,EAAS,CAAErO,OAAQ,QAChBC,QAAS,CAAE,eAAgB,mBAAqB,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OAC1FrN,KAAMC,KAAKC,UAAU,CAAEyL,UAAWtL,KAGtB,aAAX6L,IACJiC,EAAS,CAAErO,OAAQ,QAChBC,QAAS,CAAE,eAAgB,mBAAqB,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OAC1FrN,KAAMC,KAAKC,UAAU,CAAEwL,SAAUrL,MAGxCR,MAAM,yDAA2D5B,EAAK,UAAYiO,EAAOiC,GAAQ7Q,MAAK,SAAC6C,GAAD,OAC9FA,EAASC,UACR9C,MAAK,SAAC+C,GACH,OAAGA,EAAKE,UAAY,WAAa2L,GAC7BtN,QAAQC,IAAI,4BACLwB,GAGA,MAsC3B,MAAoB,UAAjBxC,EAAMgD,OAED,mCACA,uFAKiB,YAAjBhD,EAAMgD,OAEN,mCACI,qBAAK7C,MAAM,iBAAiB6D,KAAK,SAAjC,SACI,sBAAM7D,MAAM,kBAAZ,4BAKC,OAATqE,GAA2B,iBAAVyJ,EACV,GAART,EAEK,sBAAKrN,MAAM,+BAA+BkD,MAAO,CAACE,OAAQ,cAA1D,UACI,cAACU,EAAD,CAAWC,MAAO1B,EAAM4C,WAAY8K,EAAOxL,WAAYM,EAAaJ,QAASA,IAC7E,sBAAKzE,MAAM,YAAYkD,MAA6B,CAACsB,QAAQ,MAA7D,UACI,sBAAKxE,MAAM,+BAA+BkD,MAAO,CAACsB,QAAQ,YAA1D,UACQ,qBAAKlB,IAAK,iDAAmDe,EAAKqK,mBAAoBxL,MAAO,CAACC,MAAO,KAAMC,OAAQ,YAAYG,IAAI,KACnI,6BAAKc,EAAKW,UAElB,sBAAKvE,UAAU,gCAAgCyC,MAAO,CAACsB,QAAQ,MAA/D,UACI,gCACI,cAACqJ,EAAD,CAAYM,SAAUA,EAAU9L,KAAMgC,EAAKmJ,YAAavN,GAAIoE,EAAKO,IAAKsJ,OAAQ,gBAC9E,cAACL,EAAD,CAAYM,SAAUA,EAAU9L,KAAMgC,EAAKqJ,SAAUzN,GAAIoE,EAAKO,IAAKsJ,OAAQ,aAC3E,cAACL,EAAD,CAAYM,SAAUA,EAAU9L,KAAMgC,EAAKsJ,UAAW1N,GAAIoE,EAAKO,IAAKsJ,OAAQ,cAC5E,cAACL,EAAD,CAAYM,SAAUA,EAAU9L,KAAMgC,EAAKoJ,SAAUxN,GAAIoE,EAAKO,IAAKsJ,OAAQ,aAC3E,uDACA,sBAAKlO,MAAM,wCAAX,UACI,qBAAKsD,IAAKe,EAAK+L,OAAQ7M,IAAI,KAC3B,mBAAGF,KAAMgB,EAAK+L,OAAQC,SAAUhM,EAAKW,KAArC,SAA2C,wBAAQhF,MAAM,2BAAd,iCAGnD,cAACuJ,EAAD,CAAYuB,KAAMzG,EAAKiM,gBAAiBxD,MAAOmD,OAEnD,sBAAKxP,UAAU,+BAAf,UACI,wBAAQT,MAAM,kBAAkBkD,MAAO,CAACE,OAAQ,YAAY1C,QAAS,kBAAMuO,GAAQ,IAAnF,kDACA,wBAAQjP,MAAM,oBAAoBU,QAAS,kBAAME,QAAQC,IAAI,UAA7D,iCAGR,cAACuM,EAAD,CAAUC,KAAMhJ,EAAKgJ,UAQ7B,sBAAKrN,MAAM,+BAA+BkD,MAAO,CAACE,OAAQ,aAA1D,UACA,cAACU,EAAD,CAAWC,MAAO1B,EAAM4C,WAAY8K,EAAOxL,WAAYM,EAAaJ,QAASA,IAC7E,sBAAKzE,MAAM,YAAYkD,MAA6B,CAACsB,QAAQ,MAA7D,UACI,sBAAKxE,MAAM,+BAA+BkD,MAAO,CAACsB,QAAQ,YAA1D,UACQ,qBAAKlB,IAAK,iDAAmDe,EAAKqK,mBAAoBxL,MAAO,CAACC,MAAO,KAAMC,OAAQ,YAAYG,IAAI,KACnI,6BAAKc,EAAKW,UAElB,sBAAKvE,UAAU,gCAAgCyC,MAAO,CAACsB,QAAQ,YAA/D,UACI,gCACI,+CACA,4BAAIH,EAAKmJ,cACT,8BAAG,gDAA4BnJ,EAAKqJ,SAApC,MAAiDrJ,EAAKsJ,aACtD,8BAAG,gDAA4BtJ,EAAKoJ,YACpC,uDACA,sBAAKzN,MAAM,wCAAX,UACI,qBAAKsD,IAAKe,EAAK+L,OAAQ7M,IAAI,KAC3B,mBAAGF,KAAMgB,EAAK+L,OAAQC,SAAUhM,EAAKW,KAArC,SAA2C,wBAAQhF,MAAM,2BAAd,iCAGnD,cAACuJ,EAAD,CAAYuB,KAAMzG,EAAKiM,gBAAiBxD,MAAOmD,OAG/C,sBAAKjQ,MAAM,OAAX,UACI,uBAAOuQ,IAAI,WAAWvQ,MAAM,aAA5B,sDACA,mCAAOA,MAAM,eAAeC,GAAG,aAAaG,SAAU,SAACC,GAAD,OAAOsO,EAAMC,OAASvO,EAAEC,OAAOkQ,MAAM,IAAIhQ,YAAY,gBAAgBL,KAAK,QAAhI,YAAiJ,SAACE,GAAD,OAAOgO,EAAMC,KAAOjO,EAAEC,OAAOkQ,MAAM,UAExL,sBAAKxQ,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,kBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeQ,YAAY,gCAAgCJ,SAAU,SAACC,GAAD,OAAOsO,EAAM3J,KAAO3E,EAAEC,OAAOC,OAAO,aAAW,WAAW,mBAAiB,oBAE7K,sBAAKP,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,yBACA,0BAAUD,MAAM,eAAe,aAAW,gBAAgBI,SAAU,SAACC,GAAD,OAAOsO,EAAMnB,YAAcnN,EAAEC,OAAOC,YAE5G,sBAAKP,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeQ,YAAY,oCAAoCJ,SAAU,SAACC,GAAD,OAAOsO,EAAMlB,SAAWpN,EAAEC,OAAOC,OAAO,aAAW,WAAW,mBAAiB,oBAErL,sBAAKP,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeQ,YAAY,oCAAoCJ,SAAU,SAACC,GAAD,OAAOsO,EAAMjB,SAAWrN,EAAEC,OAAOC,OAAO,aAAW,WAAW,mBAAiB,iBACjL,sBAAMP,MAAM,mBAAmBC,GAAG,eAAlC,uBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeQ,YAAY,qCAAqCJ,SAAU,SAACC,GAAD,OAAOsO,EAAMhB,UAAYtN,EAAEC,OAAOC,OAAO,aAAW,WAAW,mBAAiB,oBAEvL,sBAAKP,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,qBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOsO,EAAM5E,EAAI1J,EAAEC,OAAOC,OAAOC,YAAY,UAAWD,MAAO2O,EAAOnF,EAAG,aAAW,WAAW,mBAAiB,iBAClK,sBAAM/J,MAAM,mBAAmBC,GAAG,eAAlC,qBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOsO,EAAM3E,EAAI3J,EAAEC,OAAOC,OAAOC,YAAY,UAAWD,MAAO2O,EAAOlF,EAAE,aAAW,WAAW,mBAAiB,iBACjK,sBAAMhK,MAAM,mBAAmBC,GAAG,eAAlC,qBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOsO,EAAM1E,EAAI5J,EAAEC,OAAOC,OAAOC,YAAY,UAAWD,MAAO2O,EAAOjF,EAAE,aAAW,WAAW,mBAAiB,oBAErK,sBAAKjK,MAAM,uCAAX,UACI,wBAAQA,MAAM,kBAAkBkD,MAAO,CAACE,OAAO,YAAa1C,QAAS,kBA5IzF,SAAiBT,GACb,IAAIwQ,EAAW,IAAIjB,SACnBiB,EAAShB,OAAO,SAAUd,EAAMC,QAChC6B,EAAShB,OAAO,OAAQd,EAAM3J,MAC9ByL,EAAShB,OAAO,cAAcd,EAAMnB,aACpCiD,EAAShB,OAAO,WAAYd,EAAMlB,UAClCgD,EAAShB,OAAO,WAAYd,EAAMjB,UAClC+C,EAAShB,OAAO,YAAad,EAAMhB,WACnC8C,EAAShB,OAAO,IAAKP,EAAOnF,GAC5B0G,EAAShB,OAAO,IAAKP,EAAOlF,GAC5ByG,EAAShB,OAAO,IAAKP,EAAOjF,GAC5BrJ,QAAQC,IAAI8N,EAAM5E,EAAG4E,EAAM3E,EAAG2E,EAAM1E,GACpC,IAAI6F,EAAiB,CACrBhO,OAAQ,OACRC,QAAQ,CAAC,cAAgB,UAAYlC,EAAM2B,QAAQ6N,OACnDrN,KAAMyO,EACNC,SAAU,UAGV7O,MAAM,uDAAyD5B,EAAI6P,GAClExQ,MAAK,SAAA6C,GAAQ,OAAIA,EAASC,UAC1B9C,MAAK,SAAAqR,GACoB,mCAAnBA,EAAOpO,SACN0M,GAAQ,GACRG,KAGAxO,QAAQC,IAAI,iCAGnB6B,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI,QAAS8B,MA8GsDiO,CAAQvM,EAAKO,MAAxF,uCACA,wBAAQ5E,MAAM,mBAAmBU,QAAS,kBAAMuO,GAAQ,IAAxD,0BAGR,cAAC7B,EAAD,CAAUC,KAAMhJ,EAAKgJ,OAzDzB,QA8DU,mBAAVS,EAEA,qBAAK9N,MAAM,+BAA+BkD,MAAO,CAACE,OAAQ,aAA1D,SACI,cAACU,EAAD,CAAWC,MAAO1B,EAAM4C,WAAY8K,EAAOxL,WAAYM,EAAaJ,QAASA,MAKvE,YAAVqJ,EAiHU,kBAAVA,EAEA,qCACA,cAAChK,EAAD,CAAWC,MAAO1B,EAAM4C,WAAY8K,EAAOxL,WAAYM,EAAaJ,QAASA,IAC7E,qBAAKzE,MAAM,iBAAiB6D,KAAK,SAAjC,SACI,sBAAM7D,MAAM,kBAAZ,6BAOJ,mCACI,qBAAKA,MAAM,iBAAiB6D,KAAK,SAAjC,SACI,sBAAM7D,MAAM,kBAAZ,4BA9HI,aAAb+O,EAEK,sBAAK/O,MAAM,+BAA+BkD,MAAO,CAACE,OAAQ,aAA1D,UACI,cAACU,EAAD,CAAWC,MAAO1B,EAAM4C,WAAY8K,EAAOxL,WAAYM,EAAaJ,QAASA,IAC7E,sBAAKzE,MAAM,YAAYkD,MAA6B,CAACsB,QAAQ,MAA7D,UACI,8CACA,yBAAQxE,MAAM,cAAc,aAAW,yBAAyBI,SAAU,SAACC,GAAD,OAAO2P,EAAe3P,EAAEC,OAAOC,QAAzG,UACI,wBAAQA,MAAM,IAAd,8CACA,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,8BAMC,OAAbwO,GACJnO,QAAQC,IAAI,YAER,mCACI,sBAAKb,MAAM,+BAA+BkD,MAAO,CAACE,OAAQ,aAA1D,UACI,cAACU,EAAD,CAAWC,MAAO1B,EAAM4C,WAAY8K,EAAOxL,WAAYM,EAAaJ,QAASA,IAC7E,qBAAKzE,MAAM,YAAYkD,MAA6B,CAACsB,QAAQ,MAA7D,SACI,+BACI,8CACA,yBAAQxE,MAAM,mBAAmB,aAAW,yBAAyBI,SAAU,SAACC,GAAD,OAAO2P,EAAe3P,EAAEC,OAAOC,QAA9G,UACI,wBAAQA,MAAM,IAAIsQ,UAAQ,EAA1B,qBACA,wBAAQtQ,MAAM,IAAd,wBAEJ,sBAAKP,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,mBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAO2E,EAAO3E,EAAEC,OAAOC,OAAOC,YAAY,QAAQ,aAAW,QAAQ,mBAAiB,oBAE5I,sBAAKR,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAZ,yBACA,0BAAUA,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMb,YAAcnN,EAAEC,OAAOC,OAAO,aAAW,mBAEnG,sBAAKP,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMX,SAAWrN,EAAEC,OAAOC,OAAOC,YAAY,WAAW,aAAW,WAAW,mBAAiB,iBACxJ,sBAAMR,MAAM,mBAAmBC,GAAG,eAAlC,uBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMV,UAAYtN,EAAEC,OAAOC,OAAOC,YAAY,YAAY,aAAW,YAAY,mBAAiB,oBAE/J,sBAAKR,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMZ,SAAWpN,EAAEC,OAAOC,OAAOC,YAAY,WAAW,aAAW,WAAW,mBAAiB,oBAE5J,sBAAKR,MAAM,OAAX,UACI,uBAAOuQ,IAAI,WAAWvQ,MAAM,aAA5B,6CACA,uBAAOA,MAAM,eAAeC,GAAG,aAAaO,YAAY,gBAAgBL,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAOgO,EAAMC,KAAOjO,EAAEC,OAAOkQ,MAAM,SAErI,wBAAQrQ,KAAK,SAASH,MAAM,kBAAkBU,QAAS4O,EAAvD,+BAOH,OAAbP,GACJnO,QAAQC,IAAI,YAER,mCACI,sBAAKb,MAAM,+BAA+BkD,MAAO,CAACE,OAAQ,aAA1D,UACI,cAACU,EAAD,CAAWC,MAAO1B,EAAM4C,WAAY8K,EAAOxL,WAAYM,EAAaJ,QAASA,IAC7E,qBAAKzE,MAAM,YAAYkD,MAA6B,CAACsB,QAAQ,MAA7D,SACI,+BACI,8CACA,yBAAQxE,MAAM,mBAAmB,aAAW,yBAAyBI,SAAU,SAACC,GAAD,OAAO2P,EAAe3P,EAAEC,OAAOC,QAA9G,UACI,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAIsQ,UAAQ,EAA1B,wBAEJ,sBAAK7Q,MAAM,OAAX,UACI,uBAAOuQ,IAAI,WAAWvQ,MAAM,aAA5B,0CACA,uBAAOA,MAAM,eAAgBQ,YAAY,gBAAgBsQ,OAAO,GAAG3Q,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAOgO,EAAMK,mBAAqBrO,EAAEC,OAAOkQ,MAAM,SAE9I,sBAAKxQ,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,mBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAO2E,EAAO3E,EAAEC,OAAOC,OAAOC,YAAY,QAAQ,aAAW,QAAQ,mBAAiB,oBAE5I,sBAAKR,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAZ,yBACA,0BAAUA,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMb,YAAcnN,EAAEC,OAAOC,OAAO,aAAW,mBAEnG,sBAAKP,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMX,SAAWrN,EAAEC,OAAOC,OAAOC,YAAY,WAAW,aAAW,WAAW,mBAAiB,iBACxJ,sBAAMR,MAAM,mBAAmBC,GAAG,eAAlC,uBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMV,UAAYtN,EAAEC,OAAOC,OAAOC,YAAY,YAAY,aAAW,YAAY,mBAAiB,oBAE/J,sBAAKR,MAAM,mBAAX,UACI,sBAAMA,MAAM,mBAAmBC,GAAG,eAAlC,sBACA,uBAAOE,KAAK,OAAOH,MAAM,eAAeI,SAAU,SAACC,GAAD,OAAOgO,EAAMZ,SAAWpN,EAAEC,OAAOC,OAAOC,YAAY,WAAW,aAAW,WAAW,mBAAiB,oBAE5J,sBAAKR,MAAM,OAAX,UACI,uBAAOuQ,IAAI,WAAWvQ,MAAM,aAA5B,iCACA,uBAAOA,MAAM,eAAgBQ,YAAY,gBAAgBsQ,OAAO,QAAQ3Q,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAOgO,EAAME,SAAWlO,EAAEC,OAAOkQ,MAAM,SAEzI,sBAAKxQ,MAAM,OAAX,UACI,uBAAOuQ,IAAI,WAAWvQ,MAAM,aAA5B,gCACA,uBAAOA,MAAM,eAAgBQ,YAAY,gBAAgBsQ,OAAO,OAAO3Q,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAOgO,EAAMG,QAAUnO,EAAEC,OAAOkQ,MAAM,SAEvI,sBAAKxQ,MAAM,OAAX,UACI,uBAAOuQ,IAAI,WAAWvQ,MAAM,aAA5B,wCACA,uBAAOA,MAAM,eAAeC,GAAG,aAAaO,YAAY,gBAAgBL,KAAK,OAAO4Q,UAAQ,EAAC3Q,SAAU,SAACC,GAAD,OAAOgO,EAAMI,aAAepO,EAAEC,OAAOkQ,YAEhJ,wBAAQrQ,KAAK,SAASH,MAAM,kBAAkBU,QAAS4O,EAAvD,oCA/CnB,G,MClcE,SAAS0B,IACpB,MAA2CC,YAAW,CAAC,SAAvD,mBAAOzP,EAAP,KAAgB0P,EAAhB,KAA2BC,EAA3B,KACA,EAAwC5P,mBAAS,SAAjD,mBAAO6P,EAAP,KAAqBC,EAArB,KACA,EAAwB9P,qBAAxB,6BAuDA,OAnDAuB,qBAAU,gBACkBC,IAArBvB,EAAQ1B,SACPuR,EAAgB,SAGhBA,EAAgB,WAIxBvO,qBAAU,cAaR,CAACsO,EAAc5P,IAEjBsB,qBAAU,WACNlC,QAAQC,IAAIW,EAAQ1B,UACpBc,QAAQC,IAAIuQ,KAEb,CAACA,IAwBA,qCACI,cAAC,EAAD,CAAQxO,aAvBhB,SAAsBrC,GAClB8Q,EAAgB9Q,IAsBwBsC,OAAQuO,EAAc5P,QAASA,EAASc,aAlBpF,SAAsBmJ,EAAKzG,EAAMzE,EAAO+Q,GACpC1Q,QAAQC,IAAI,kBACD,SAAR4K,GACCyF,EAAUlM,EAAMzE,EAAO+Q,GACb,aAAPtM,GAA+B,UAAVzE,EACpB8Q,EAAgB,QAEH,aAATrM,GAAiC,UAAVzE,GAC3B8Q,EAAgB,WAIpBF,EAAanM,GACbqM,EAAgB,aAMhB,cAAC,EAAD,CAAW7P,QAASA,EAASqB,OAAQuO,IACrC,6BAAaG,aAAW,EAACpO,MAAM,MAAMyF,OAAO,MAAMtF,IAAI,iCACtD,qBAAKA,IAAI,+BAA+BC,IAAI,QC9DxDiO,IAAS1F,OACP,cAAC2F,EAAA,EAAD,UACI,cAAC,EAAD,MAEJvQ,SAASC,eAAe,WAM1BhC,M","file":"static/js/main.5d8a3f21.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { Component }  from 'react';\n\nfunction SignUpModal(props){\n  var username = '';\n  var password ='';\n\n    return(\n        <div class=\"modal fade\" id=\"Sign-Up-Modal\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n          <div class=\"modal-dialog modal-dialog-centered\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalToggleLabel\">Create a new account</h5>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">@</span>\n                <input type=\"text\" onChange={(e) => username = e.target.value} class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n              </div>\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">Password</span>\n                <input type=\"password\" onChange={(e) => password = e.target.value} class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n              </div>\n                <div className=\"d-flex justify-content-center\">\n                  <button type=\"submit\" onClick={() => {props.handleRegistration(username, password); console.log(\"click sur sign up\")}} class=\"btn btn-primary justify-content-center\" data-bs-dismiss=\"modal\" >Sign-Up</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n    );\n}\n\nexport default SignUpModal;","import './Header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'jquery/dist/jquery.min.js'\nimport bootstrap from 'bootstrap/dist/js/bootstrap.min.js'\nimport SignUpModal from \"./SignUpModal\"\nimport React, { useEffect,useState} from \"react\";\n\n\nfunction Header(props) { \n  var username = \"\";\n  var password = \"\";\n  const [cookies, setCookies] = useState(props.cookies);\n  const [isLogged, setIsLogged] = useState(props.isLogged);\n  console.log(props.logged)\n\n  /*useEffect(()=>{\n    setCookies(props.cookies);\n    cook = props.cookies;\n    console.log(\"useeffect\");\n  }, [cookies]);*/\n\n  /*var cookies = props.cookies;\n  const [username, setUsername] = useState(props.cookies.username);\n  const [password, setPassword] = useState('');\n  const [logged, setLogged] = useState(props.cookies.isLogged);\n  console.log(\"cookies.isLogged.header = \" + props.cookies.isLogged);\n  console.log(\"logged const header = \" + logged);\n\n  \n  useEffect(() => {\n    if(props.cookies.isLogged !== logged){\n      setLogged(props.cookies.isLogged);\n    }\n    if(props.cookies !== cookies){\n      cookies = props.cookies;\n      setUsername(props.cookies.username);\n      setLogged(props.cookies.isLogged);\n    }\n    console.log(\"changement header = \" + logged);\n  })*/\n\n  /*useEffect(() => {\n    console.log(props.cookies)\n    if(props.cookies.isLogged === 'true'){\n      props.handleLoging('true');\n    }\n    else if(props.cookies.isLogged === 'false'){\n        props.handleLoging('false');\n    }\n  })*/\n\n  useEffect(() => {\n    if(props.cookies.username !== null && props.cookies.username !== undefined){\n      console.log(\"isLogged Ã  true\")\n      var updatedCookies = props.cookies;\n      updatedCookies.isLogged = 'true';\n      setCookies(updatedCookies);\n    }\n    else{\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [props.cookies, username])\n\n  useEffect(() => {\n    if(cookies === null){\n      var updatedCookies = new Object(); // changer ca pour le faire a la fin du setcookies\n      updatedCookies.isLogged = 'false';\n      setCookies(updatedCookies);\n    }\n    else{\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [cookies])\n  function login(){\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/login\",{\n      method:'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username: username,\n      password: password })\n    }).then((response) => \n      response.json()\n    )\n    .then((data) => \n      cblogin(data)\n    )\n    .catch((error) => {\n      wrongLogin(error);\n    })\n    props.handleLoging('Loading');\n  }\n\n  function register(u, p){\n    username = u;\n    password = p;\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/register\",{\n      method:'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username: u,\n      password: p,\n      contentManager: 1})\n    }).then((response) => {\n      login();\n    })\n  }\n\n  function disconnect(){\n    props.handleCookie('false', 'token');\n    props.handleCookie('false', 'username')\n    props.handleCookie('true', 'isLogged', 'false', {path:'/'})\n    setIsLogged('false');\n    //setCookies(null); // probleme de synchro ici \n    //setLogged('false');\n  }\n\n  function cblogin(data){\n    props.handleCookie('true', 'token', data.message, {path:'/'});\n    props.handleCookie('true', 'username', username, {path:'/'});\n    props.handleCookie('true', 'isLogged', 'true', {path:'/'});\n    setIsLogged(\"true\");\n    //setLogged('true');\n  }\n\n  function wrongLogin(error){\n    showModal(\"Sign-In-Modal-Error\");\n  }\n\n  console.log(\"isLogged = \" + isLogged)\n  if(isLogged === 'true'){\n      return(\n        <>\n        <nav class=\"navbar bg-dark\">\n          <div class=\"left-buttons d-flex justify-content-start\">\n          <a class=\"navbar-brand\" style={{width:\"8%\", margin: \"0\"}}href=\"#\"><img src=\"/logo.jpg\" alt=\"\" width=\"100%\" class=\"d-inline-block align-text-top\"></img></a>\n            <div class=\"link p-2 bd-highlight\">\n              <button onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n            </div>\n          </div>\n          <div className=\"right-buttons d-flex justify-content-end\">\n            <button className=\"btn btn-primary\" onClick={disconnect}>{cookies.username}</button>\n          </div>\n        </nav>\n        </>\n      )\n  }\n    else if(isLogged === 'false'){\n      return (\n        <>\n          <nav class=\"navbar bg-dark\">\n            <div class=\"left-buttons d-flex justify-content-start\">\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">\n                <img src=\"./public/logo.jpg\" alt=\"\" ></img>\n              </button>\n            </div>\n              <div class=\"link p-2 bd-highlight\">\n                <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n              </div>\n              <div class=\"link p-2 bd-highlight\">\n                <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n              </div>\n            </div>\n            <div className=\"right-buttons d-flex justify-content-end\">\n              <div className=\"p-2 bd-highlight\">\n                <button class=\"btn btn-outline-light\" onClick={() => showModal('Sign-In-Modal')}>Login</button>\n              </div>\n              <div className=\"p-2 bd-highlight\">\n                <button class=\"btn btn-warning\" onClick={() => showModal('Sign-Up-Modal')}>Sign-Up</button>\n              </div>\n            </div>\n          </nav>\n          <SignUpModal handleRegistration={register}></SignUpModal>\n          <div class=\"modal fade\" id=\"Sign-In-Modal\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-dialog-centered\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\" id=\"exampleModalToggleLabel\">Login to your account</h5>\n                  <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                <div class=\"input-group mb-3\">\n                  <span class=\"input-group-text\" id=\"basic-addon1\">@</span>\n                  <input type=\"text\" class=\"form-control\" onChange={(e) => username = e.target.value} placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                </div>\n                <div class=\"input-group mb-3\">\n                  <span class=\"input-group-text\" id=\"basic-addon1\">Password</span>\n                  <input type=\"password\" class=\"form-control\" onChange={(e) => password = e.target.value} placeholder=\"Password\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                </div>\n                  <div className=\"d-flex justify-content-center\">\n                    <button type=\"submit\" class=\"btn btn-primary justify-content-center\" data-bs-dismiss=\"modal\" onClick={() => login(\"Sign-In-Modal\")}>Sign-In</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal fade\" id=\"Sign-In-Modal-Error\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n          <div class=\"modal-dialog modal-dialog-centered\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalToggleLabel\">Login to your account</h5>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">Username</span>\n                <input type=\"text\" class=\"form-control is-invalid\" onChange={(e) => username = e.target.value} id=\"validationServerUsername\" aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\" required></input>\n                <div id=\"validationServerUsernameFeedback\" class=\"invalid-feedback\">\n                  Enter your username again.\n                </div>\n              </div>\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">Password</span>\n                <input type=\"password\" class=\"form-control is-invalid\" onChange={(e) => password = e.target.value} id=\"validationServerUsername\" aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\" required></input>\n                <div id=\"validationServerUsernameFeedback\" class=\"invalid-feedback\">\n                  Enter your password again.\n                </div>\n              </div>\n                <div className=\"d-flex justify-content-center\">\n                  <button type=\"submit\" class=\"btn btn-primary justify-content-center\" data-bs-dismiss=\"modal\" onClick={() => login(\"Sign-In-Modal\")}>Sign-In</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        </>    \n      );\n    }\n  else{\n    setIsLogged('false');\n    return (\n      <>\n        <nav class=\"navbar bg-dark\">\n          <div class=\"left-buttons d-flex justify-content-start\">\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">\n                <img src=\"./public/logo.jpg\" alt=\"\" ></img>\n              </button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n            </div>\n          </div>\n          <div className=\"right-buttons d-flex justify-content-end\">\n            <div class=\"spinner-border text-light\" role=\"status\">\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        </nav>\n        </>\n      \n    );\n\n    \n  }\n} ;\n\nfunction closeModal(modal){\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.modal('hide');\n};\n\nfunction showModal(modal){\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.show();\n}\n\n\nexport default Header;\n","import React, { useEffect,useState} from \"react\";\n\nexport default function ItemsList(props){\n    const [items, setItems] = useState(null);\n    const [choice, setChoice] = useState(null);\n\n    useEffect(() => {\n        console.log(\"useEffect itemlist changed\")\n        //if(items === null){\n            if(props.items !== null){\n                var newItems = props.items;\n                newItems.map((item) => {\n                    if(item !== choice)\n                        item.classN = \"list-group-item list-group-item-action\";\n                })\n                setItems(newItems);\n            }\n       // }\n    }, [props])\n\n    /*useEffect(() => {\n        if(items !== null){\n            var updatedItems = items.map((item) => {\n                if(item.classN === null){\n                item.classN = \"list-group-item list-group-item-action\";\n                }\n            });\n            setItems(updatedItems);\n        }\n    }, [items])*/\n\n    useEffect(() => {\n        console.log(\"change item in item list\")\n        if(choice !== null){\n            items.map((item) => {\n                if(item.classN === \"list-group-item list-group-item-action active\"){\n                    props.changeItem(item);\n                    console.log(\"click on an item\")\n                }\n            })\n        }\n    }, [items])\n\n    \n\n    function handleClick(id){\n            var updatedItems = items.map((item) => item._id === id ? {\n                ...item,\n                classN: \"list-group-item list-group-item-action active\"\n                } : {...item,\n                classN:\"list-group-item list-group-item-action\"});\n                items.map((item) => {if(item._id === id)  setChoice(items)});\n            setItems(updatedItems)\n            \n    }\n\n\n    if(items !== null){\n        return(\n            <div className=\" card w-25 p-3 h-75 start-0\" style={{height:\"75%\"},{backgroundColor:\"#EFEFEF\"},{padding:\"0\"}}>\n                \n                <div class=\"list-group w-100\" style={{margin:\"0\"}}>\n                    <div className=\"list-group-item gray-400 d-flex justify-content-between align-items-center \">My items : <button class=\"btn btn-sm btn-secondary\" onClick={props.addItem}>+</button></div>\n                    {items.map(d => (\n                        <button class={d.classN} aria-current=\"true\" onClick={() => handleClick(d._id)}><div className=\"list-group-item d-flex justify-content-between align-items-center \" style={{borderWidth:\"0\", backgroundColor:\"transparent\"}}>{d.name}<button class=\"btn btn-danger btn-sm position-absolute top-25 end-0\" onClick={() => props.deleteItem(d._id)}>X</button></div></button>\n                    ))}\n                </div>\n            </div>\n        )\n    }\n    else{\n        return(\n            <p>Rien a afficher</p>\n        );\n    }\n    \n}","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( window.self.performance && window.self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;","// copier coller code iss tracker\nimport * as THREE from \"../node_modules/three/build/three.js\";\nimport {GLTFLoader} from '../node_modules/three/examples/jsm/loaders/GLTFLoader.js'\n\nimport { RoughnessMipmapper } from '../node_modules/three/examples/jsm/utils/RoughnessMipmapper.js';\nimport Stats from './Stats';\n\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {OrbitControls} from \"../node_modules/three/examples/jsm/controls/OrbitControls\"\nimport { Object3D } from \"three\";\nimport { useEffect, useRef, useState } from \"react\";\n\n\nexport default function ItemViewer(props){\n    const mountRef = useRef(null);\n    const [pos, setPos] = useState(false);\n\n    useEffect(() => {\n    let pointclouds;\nconst scene = new THREE.Scene()\nscene.background = new THREE.Color( 0xffffff );\nconst raycaster = new THREE.Raycaster();\nconst mouse = new THREE.Vector2();\nlet x = 0\nlet y = 0;\nlet z = 0;\n\nconst camera = new THREE.PerspectiveCamera(\n    75,\n    (window.innerWidth) / (window.innerHeight),\n    0.1,\n    1000\n)\ncamera.position.z = 20\nconst renderer = new THREE.WebGLRenderer()\nrenderer.setSize(window.innerWidth *0.3, window.innerHeight * 0.3)\nmountRef.current.appendChild( renderer.domElement );\nconst controls = new OrbitControls(camera, renderer.domElement)\ncontrols.enableDamping = true\n\n    \nconst loader = new GLTFLoader()\nloader.load(\n    \"https://lauriaristorage.blob.core.windows.net/\" + props.link,\n    function (gltf) {\n        gltf.scene.name = \"gltf\"\n        var box = new THREE.Box3().setFromObject(gltf.scene);\n        scene.add(gltf.scene)\n    },\n    (xhr) => {\n        console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n    },\n    (error) => {\n        console.log(error)\n    }\n)\nconst mgeo = new THREE.SphereGeometry(1,1);\n  const mmat = new THREE.MeshStandardMaterial({color: 0xFFFFFF});\n  const moon = new THREE.Mesh(mgeo,mmat);\n  moon.name = \"intersection\";\nconst pointLight = new THREE.PointLight(0xFFFFFF);\n    pointLight.position.set(0,0,0);\n    const ambientLight = new THREE.AmbientLight(0xFFFFFF);\n    ambientLight.intensity = 5;\n    scene.add( ambientLight)\nwindow.addEventListener('resize', onWindowResize, false)\nfunction onWindowResize() {\n    camera.aspect = window.innerWidth  / (window.innerHeight)\n    camera.updateProjectionMatrix()\n    renderer.setSize(window.innerWidth *0.3, window.innerHeight*0.3)\n    render()\n}\nwindow.addEventListener('pointermove', onMouseMove);\n\nfunction onMouseMove(event){\n    if(mountRef.current !== null){\n    let posDiv = mountRef.current.getBoundingClientRect();\n    if(event.clientX > posDiv.x && event.clientX < posDiv.x + posDiv.width && event.clientY > posDiv.y && event.clientY < posDiv.y + posDiv.height){\n        mouse.x = ( (event.clientX - posDiv.x) / posDiv.width ) * 2 - 1;\n        mouse.y = - (( event.clientY - posDiv.y) / posDiv.height ) * 2 + 1;\n    }\n}\n  \n}\n\nfunction animate() {\n    requestAnimationFrame(animate)\n\n    controls.update()\n\n    render()\n\n}\n\nfunction render() {\n  raycaster.setFromCamera( mouse, camera);\n\n\t// calculate objects intersecting the picking ray\n\n\n  const point = new Object3D();\n  const intersects = raycaster.intersectObjects( scene.children );\n  for (let i = 0; i < intersects.length; i++) {\n    // You can do anything you want here, this is just an example to make the hovered object transparent\n    //console.log(intersects[i].object.parent.name); \n    const newMaterial = intersects[i].object.material.clone();\n    newMaterial.transparent = false;\n    newMaterial.opacity = 0.5;\n    intersects[i].object.material = newMaterial;\n    if(i === 2){\n      x = intersects[2].point.x;\n      y = intersects[2].point.y;\n      z = intersects[2].point.z;\n    }\n     \n\n   \n    \n  }\n\n  window.addEventListener(\"click\", onClick, false);\n\n  function onClick(event){\n      if(mountRef.current !== null){\n        let posDiv = mountRef.current.getBoundingClientRect();\n        if(event.clientX > posDiv.x && event.clientX < posDiv.x + posDiv.width && event.clientY > posDiv.y && event.clientY < posDiv.y + posDiv.height){\n          let position = moon.position;\n          props.click(position.x, position.y, position.z);\n        }\n    }\n    \n  }\n  \n  \nmoon.position.set(x,y,z);\n  scene.add(moon);\n    renderer.render(scene, camera)\n}\n\nwindow.addEventListener('resize', onWindowResize, false)\nfunction onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight\n    camera.updateProjectionMatrix()\n    renderer.setSize(window.innerWidth, window.innerHeight)\n    render()\n}\n\n\nanimate()\n\n//return () => mountRef.current.removeChild( renderer.domElement);\n    }, [])\n    \n    \n\n    return (\n        <div ref={mountRef} style={{cursor: \"none\"}}id=\"3d\">\n        </div>\n    )\n  \n}\n\n//580","import React, { useEffect,useState} from \"react\";\n\nexport default function PoisList(props){\n\n    return(\n        <>\n            <div className=\"card\" style={{width: \"20%\"}}>\n                <div class=\"accordion\" id=\"accordionExample\">\n                    <div className=\"list-group-item gray-400 d-flex justify-content-between align-items-center \">Points of interest of the item :</div>\n                    {props.pois.map(d => (\n                        <div class=\"accordion-item\">\n                            <h2 class=\"accordion-header\" id=\"headingOne\">\n                            <button class=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target={\"#collapse\" + props.pois.indexOf(d)} aria-expanded=\"true\" aria-controls={\"collapse\" + props.pois.indexOf(d)}>\n                                <img style={{width:\"10%\"}}src={\"https://lauriaristorage.blob.core.windows.net/\"+d.poiImage}></img>   {d.name}\n                            </button>\n                            </h2>\n                            <div id={\"collapse\" + + props.pois.indexOf(d)} class=\"accordion-collapse collapse show\" aria-labelledby={\"heading\" + props.pois.indexOf(d)} data-bs-parent=\"#accordionExample\">\n                                <div class=\"accordion-body\">\n\n                                    <p><strong>Description : </strong>{d.description}</p>\n                                    <p><strong>Category : </strong>{d.category}</p>\n                                    <p><strong>Location : </strong>{d.latitude} ; {d.longitude}</p>\n                                    <p><strong>Position : </strong>x: {d.mapCoordinates.x} ; y: {d.mapCoordinates.y} ; z: {d.mapCoordinates.z}</p>\n                                </div>\n                            </div>  \n                        </div>                  \n                    ))}\n                </div>\n            </div>\n        </>\n    );\n}","import React, { useEffect,useState} from \"react\";\n\nexport default function ItemDetail(props){\n\n    const [state, setState] = useState(false);\n    const [newData, setNewData] = useState(props.data);\n    \n    useEffect(() => {\n        if(newData === 0){\n            setNewData(props.data);\n            console.log(\"probleme\")\n        }\n    },[newData]);\n    \n    if(!state){\n        return(\n            <>\n            <div className=\"d-flex flex-row mb-3\">\n                <div className=\"d-flex flex-column bd-highlight mb-3\">\n                    <h5>{props.detail}</h5>\n                    <p>{newData}</p>\n                </div>\n                <button class=\"btn btn-secondary btn-sm\" onClick={() => setState(true)}>Edit</button>\n            </div>\n            </>\n        )\n    }\n    else{\n        return(\n            <>\n                <div className=\"d-flex align-self-center\">\n                    <div className=\"d-flex flex-column bd-highlight mb-3\">\n                        <h5>{props.detail}</h5>\n                        <input type=\"text\" placeholder={props.data}onChange={(e) => setNewData(e.target.value)}></input>\n                    </div>\n                    <div>\n                    <button class=\"btn btn-secondary btn-sm\" onClick={()=> {\n                        props.editItem(props.id, newData, props.detail)\n                        setState(false);\n                    }}>Validate</button>\n                    </div>\n                    \n                </div>\n            </>\n        )\n    }\n}","\nimport { data } from \"jquery\";\nimport React, { useEffect,useState} from \"react\";\nimport ItemsList from './ItemsList';\nimport ItemViewer from \"./ItemViewer\";\nimport PoisList from './PoisList';\nimport ItemDetail from './ItemDetail';\n\nfunction Workspace(props){\n    var cookies;\n    var nItem = new newItem();\n    var nPois = new newPois();\n    var name = '';\n    const [data, setData] = useState(null);\n    const [item, setItem] = useState(null);\n    const [state, setState] = useState(null);\n    const [typeItem, setTypeItem] = useState('noChoice');\n    const [pois, setPois] = useState(false);\n    const [newPos, setNPos] = useState({x: \"0\", y:\"0\", z:\"0\"});\n\n    \n    useEffect(() => {\n        cookies = props.cookies;\n        if(props.logged === 'true'){\n            refreshItemsList();\n        }\n    }, [props]);\n\n\n    useEffect(() => {\n    })\n\n    function refreshItemsList(){\n        fetch(\"https://lauriari-arvr.azurewebsites.net/aritem/contentmanager\",{\n            method: 'GET',\n            headers:{'Authorization':'Bearer ' +props.cookies.token}}).then((response) => {\n                return response.json()})\n                .then((data) => setData(data))\n                .catch((e) => noData());\n    }\n\n    function upLoadItem(){\n        setState(\"uploadingItem\");\n        let formData = new FormData();\n        formData.append('name', name);\n        formData.append('description', nItem.description);\n        formData.append('category', nItem.category);\n        formData.append('latitude', nItem.latitude);\n        formData.append('longitude', nItem.longitude);\n        if(typeItem === \"2D\"){\n            formData.append('avatar', nItem.file);\n            fetch(\"https://lauriari-arvr.azurewebsites.net/aritem/\",{\n                method: 'POST',\n                headers:{'Authorization':'Bearer ' + props.cookies.token},\n                body: formData\n            }).then((response) => {\n                return response.json();\n            }).then((data) => {\n                if(data.message === \"Uploaded item to Azure and updated DBð¤\"){\n                    setState(\"noItemSelected\");\n                    refreshItemsList();\n                }\n                else{\n                    setState(\"newItem\")\n                }\n            })\n        }\n        else if(typeItem === \"3D\"){\n            const myGltfFile = {...nItem.gltfFile, type :\"model/gltf+json\"};\n            const myBinFile = {...nItem.binFile, type :\"octet-stream\"};\n            formData.append('gltf', nItem.gltfFile);\n            formData.append('bin', nItem.binFile);\n            formData.append('logoImageReference', nItem.logoImageReference);\n            if(nItem.textureFiles !== null){\n            Array.from(nItem.textureFiles).forEach(item => {\n                formData.append('imageGallery', item, item.name);\n            })\n            //formData.append(\"imageGallery[]\",nItem.textureFiles);\n            }\n            else{\n                formData.append('imageGallery', undefined);\n            }\n            var myHeaders = new Headers();\n            myHeaders.append(\"Authorization\", 'Bearer ' + props.cookies.token);\n\n            var requestOptions = {\n                method: 'POST',\n                //headers: myHeaders,\n                headers:{'Authorization':'Bearer ' + props.cookies.token},\n                body: formData,\n                mode: \"cors\"\n              };\n            fetch(\"https://lauriari-arvr.azurewebsites.net/aritem/3d\",\n                requestOptions\n            ).then((response) => {\n                return response.json();\n            }).then((data) => {\n                if(data.message === \"Uploaded item to Azure and updated DBð¤\"){\n                    setState(\"noItemSelected\");\n                    refreshItemsList();\n                }\n                else{\n                    setState(\"newItem\")\n                }\n            })\n        }\n    }\n\n    \n    function dItem(id){\n        const requestOptions = {\n            method: 'DELETE',\n            headers:{'Authorization':'Bearer ' + props.cookies.token}\n          };\n        fetch(\"https://lauriari-arvr.azurewebsites.net/aritem/delete/\"+id, requestOptions).then((response) => {\n            refreshItemsList();\n        });\n    }\n\n    function changeTypeItem(value){\n        if(value === \"2\"){\n            setTypeItem('3D');\n        }\n        else if(value === \"1\"){\n            setTypeItem('2D');\n        }\n        else{\n            setTypeItem('noChoice');\n        }\n    }\n\n    useEffect(() => {\n        setState(\"ItemSelected\")\n    }, [item])\n\n    useEffect(() => {\n        if(data !== null && state !== \"newItem\"){\n            setState('noItemSelected');\n        }\n        console.log(\"data changed \")\n    }, [data]);\n\n\n    function newItem(){\n        this.name = \"\";\n        this.description = \"\";\n        this.latitude = \"\";\n        this.longitude = \"\";\n        this.category = \"\";\n        this.file = null;\n        this.gltfFile = null;\n        this.binFile = null;\n        this.textureFiles = null;\n        this.logoImageReference = null;\n    }\n\n    function newPois(){\n        this.avatar = null;\n        this.name = \"\";\n        this.description = \"\";\n        this.category = \"\";\n        this.latitude = \"\";\n        this.longitude = \"\";\n        this.x = \"0\";\n        this.y = \"0\";\n        this.z = \"0\";\n    }\n\n    function noData(){\n        setData(null);\n        setItem(null);\n    }\n\n    function handleClick(item){\n        const newItem = item;\n        setItem(newItem);\n    }\n\n    function addItem(){\n        setState('newItem');\n    }\n\n    function itemOnClick(x, y, z){\n            nPois.x = x.toString();\n            nPois.y=  y.toString();\n            nPois.z = z.toString();\n            setNPos({\n                x: x.toString(),\n                y: (y + 2).toString(),\n                z: z.toString()\n            })\n            console.log(newPos.x, newPos.y, newPos.z)\n    }\n\n\n    const editItem = (id, data, detail) => {\n        let url = \"https://lauriari-arvr.azurewebsites.net/aritem/update/\" + id + \"?param=\" + detail;\n        var myInit;\n        if(detail === \"category\"){\n            myInit = { method: 'PATCH',\n               headers: { 'Content-Type': 'application/json' , 'Authorization':'Bearer ' + props.cookies.token},\n               body: JSON.stringify({ category: data})\n            }\n        }\n        else if(detail === \"description\"){\n            myInit = { method: 'PATCH',\n               headers: { 'Content-Type': 'application/json' , 'Authorization':'Bearer ' + props.cookies.token},\n               body: JSON.stringify({ description: data})\n            }\n        }\n        else if(detail === \"name\"){\n            myInit = { method: 'PATCH',\n               headers: { 'Content-Type': 'application/json' , 'Authorization':'Bearer ' + props.cookies.token},\n               body: JSON.stringify({ name: data})\n            }\n        }\n        else if(detail === \"longitude\"){\n            myInit = { method: 'PATCH',\n               headers: { 'Content-Type': 'application/json' , 'Authorization':'Bearer ' + props.cookies.token},\n               body: JSON.stringify({ longitude: data})\n            }\n        }\n        else if(detail === \"latitude\"){\n            myInit = { method: 'PATCH',\n               headers: { 'Content-Type': 'application/json' , 'Authorization':'Bearer ' + props.cookies.token},\n               body: JSON.stringify({ latitude: data})\n            }\n        }\n        fetch(\"https://lauriari-arvr.azurewebsites.net/aritem/update/\" + id + \"?param=\" + detail,myInit).then((response) => \n                response.json())\n                .then((data) => {\n                    if(data.message === \"Updated \" + detail){\n                        console.log(\"changement bien effectue\")\n                        return data;\n                    }\n                    else{\n                        return 0;\n                    }\n                })\n    }\n\n    function addPois(id){\n        var formdata = new FormData();\n        formdata.append(\"avatar\", nPois.avatar);\n        formdata.append(\"name\", nPois.name);\n        formdata.append(\"description\",nPois.description);\n        formdata.append(\"category\", nPois.category);\n        formdata.append(\"latitude\", nPois.latitude);\n        formdata.append(\"longitude\", nPois.longitude);\n        formdata.append(\"x\", newPos.x);\n        formdata.append(\"y\", newPos.y);\n        formdata.append(\"z\", newPos.z);\n        console.log(nPois.x, nPois.y, nPois.z);\n        var requestOptions = {\n        method: 'POST',\n        headers:{'Authorization':'Bearer ' + props.cookies.token},\n        body: formdata,\n        redirect: 'follow'\n        };\n\n        fetch(\"https://lauriari-arvr.azurewebsites.net/aritem/pois/\" + id, requestOptions)\n        .then(response => response.json())\n        .then(result => {\n            if(result.message === \"Added a new point of interest!\"){\n                setPois(false);\n                refreshItemsList();\n            }\n            else{\n                console.log(\"add a toaster : error pois\")\n            }\n        })\n        .catch(error => console.log('error', error));\n    }\n\n    if(props.logged === 'false'){\n        return (\n            <>\n            <p>You have to be connected to see your workspace. test</p>\n            \n            </>\n        )\n    }\n    else if(props.logged === 'Loading'){\n        return(\n            <>\n                <div class=\"spinner-border\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span> \n                </div>\n            </>\n        )\n    }\n    else if(item !== null && state === 'ItemSelected'){\n        if(pois != true){\n            return(\n                <div class=\"d-flex justify-content-start\" style={{margin: \"1% 0 5% 1%\"}}>\n                    <ItemsList items={data} deleteItem={dItem} changeItem={handleClick} addItem={addItem}></ItemsList>\n                    <div class=\"card w-50\" style={{margin:\"0 1% 0 1%\"}, {padding:\"2%\"}}>\n                        <div class=\"d-flex justify-content-start\" style={{padding:\"0 0 5% 0\"}}>\n                                <img src={\"https://lauriaristorage.blob.core.windows.net/\" + item.logoImageReference} style={{width: \"5%\", margin: \"0 2% 0 0\"}}alt=\"\" />\n                                <h2>{item.name}</h2>\n                        </div>\n                        <div className=\"d-flex justify-content-around\" style={{padding:\"5%\"}}>\n                            <div>\n                                <ItemDetail editItem={editItem} data={item.description} id={item._id} detail={\"description\"}></ItemDetail>\n                                <ItemDetail editItem={editItem} data={item.latitude} id={item._id} detail={\"latitude\"}></ItemDetail>\n                                <ItemDetail editItem={editItem} data={item.longitude} id={item._id} detail={\"longitude\"}></ItemDetail>\n                                <ItemDetail editItem={editItem} data={item.category} id={item._id} detail={\"category\"}></ItemDetail>\n                                <p>QR Code for your items</p>\n                                <div class=\"d-flex flex-column align-items-center\">\n                                    <img src={item.QRCode} alt=\"\" />\n                                    <a href={item.QRCode} download={item.name}><button class=\"btn btn-secondary btn-sm\">Download me</button></a>\n                                </div>\n                            </div>\n                            <ItemViewer link={item.objectReference} click={itemOnClick}></ItemViewer>\n                        </div>\n                        <div className=\"d-flex justify-content-start\">\n                            <button class=\"btn btn-primary\" style={{margin: \"0 1% 0 0\"}}onClick={() => setPois(true)}>Add a point of interest to your item</button>\n                            <button class=\"btn btn-secondary\" onClick={() => console.log(\"click\")}>Edit the item</button>\n                        </div>\n                    </div>\n                    <PoisList pois={item.pois}></PoisList>\n                    \n                </div>       \n            )\n            \n        }\n        else{                   \n        return(     \n            <div class=\"d-flex justify-content-start\" style={{margin: \"1% 0 0 1%\"}}>\n            <ItemsList items={data} deleteItem={dItem} changeItem={handleClick} addItem={addItem}></ItemsList>\n            <div class=\"card w-50\" style={{margin:\"0 1% 0 1%\"}, {padding:\"2%\"}}>\n                <div class=\"d-flex justify-content-start\" style={{padding:\"0 0 5% 0\"}}>\n                        <img src={\"https://lauriaristorage.blob.core.windows.net/\" + item.logoImageReference} style={{width: \"5%\", margin: \"0 2% 0 0\"}}alt=\"\" />\n                        <h2>{item.name}</h2>\n                </div>\n                <div className=\"d-flex justify-content-around\" style={{padding:\"0 0 5% 0\"}}>\n                    <div>\n                        <h5>Description :</h5>\n                        <p>{item.description}</p>\n                        <p><strong>Location: </strong>{item.latitude} ; {item.longitude}</p>\n                        <p><strong>Category: </strong>{item.category}</p>\n                        <p>QR Code for your items</p>\n                        <div class=\"d-flex flex-column align-items-center\">\n                            <img src={item.QRCode} alt=\"\" />\n                            <a href={item.QRCode} download={item.name}><button class=\"btn btn-secondary btn-sm\">Download me</button></a>\n                        </div>\n                    </div>\n                    <ItemViewer link={item.objectReference} click={itemOnClick}  ></ItemViewer>\n                </div>\n                \n                    <div class=\"mb-3\">\n                        <label for=\"formFile\" class=\"form-label\">Choose a logo for the point of interest.</label>\n                        <input class=\"form-control\" id=\"file-input\" onChange={(e) => nPois.avatar = e.target.files[0]} placeholder=\"Choose a file\" type=\"file\" onChange={(e) => nItem.file = e.target.files[0]}></input>\n                    </div>\n                    <div class=\"input-group mb-3\">\n                        <span class=\"input-group-text\" id=\"basic-addon1\">Name</span>\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Name of the point of interest\" onChange={(e) => nPois.name = e.target.value} aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                    </div>\n                    <div class=\"input-group mb-3\">\n                        <span class=\"input-group-text\" id=\"basic-addon1\">Description</span>\n                        <textarea class=\"form-control\" aria-label=\"With textarea\" onChange={(e) => nPois.description = e.target.value}></textarea>\n                    </div>\n                    <div class=\"input-group mb-3\">\n                        <span class=\"input-group-text\" id=\"basic-addon1\">Category</span>\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Category of the point of interest\" onChange={(e) => nPois.category = e.target.value} aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                    </div>\n                    <div class=\"input-group mb-3\">\n                        <span class=\"input-group-text\" id=\"basic-addon1\">Latitude</span>\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Latitude of the point of interest\" onChange={(e) => nPois.latitude = e.target.value} aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                        <span class=\"input-group-text\" id=\"basic-addon1\">Longitude</span>\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Longitude of the point of interest\" onChange={(e) => nPois.longitude = e.target.value} aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                    </div>\n                    <div class=\"input-group mb-3\">\n                        <span class=\"input-group-text\" id=\"basic-addon1\">X Value</span>\n                        <input type=\"text\" class=\"form-control\" onChange={(e) => nPois.x = e.target.value} placeholder=\"X Value\"  value={newPos.x} aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                        <span class=\"input-group-text\" id=\"basic-addon1\">Y Value</span>\n                        <input type=\"text\" class=\"form-control\" onChange={(e) => nPois.y = e.target.value} placeholder=\"Y Value\"  value={newPos.y}aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                        <span class=\"input-group-text\" id=\"basic-addon1\">Z Value</span>\n                        <input type=\"text\" class=\"form-control\" onChange={(e) => nPois.z = e.target.value} placeholder=\"Z Value\"  value={newPos.z}aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                    </div>\n                    <div class=\"d-flex flex-row-reverse bd-highlight\">\n                        <button class=\"btn btn-primary\" style={{margin:\"0 0 0 1%\"}} onClick={() => addPois(item._id)}>Add the point of interest</button>\n                        <button class=\"btn btn-warning \" onClick={() => setPois(false)}>Cancel</button>\n                    </div>\n                </div>\n                <PoisList pois={item.pois}></PoisList>/*\n            </div>\n        )\n        } //onChange={(e) => nPois.x = e.target.value}\n    }\n    else if(state === 'noItemSelected'){\n        return (\n            <div class=\"d-flex justify-content-start\" style={{margin: \"1% 0 0 1%\"}}>\n                <ItemsList items={data} deleteItem={dItem} changeItem={handleClick} addItem={addItem}></ItemsList>\n            </div>\n        );\n\n    }\n    else if(state === 'newItem'){\n        if(typeItem === 'noChoice'){\n            return(\n                <div class=\"d-flex justify-content-start\" style={{margin: \"1% 0 0 1%\"}}>\n                    <ItemsList items={data} deleteItem={dItem} changeItem={handleClick} addItem={addItem}></ItemsList>\n                    <div class=\"card w-50\" style={{margin:\"0 1% 0 1%\"}, {padding:\"5%\"}}>\n                        <h3>Add new Item</h3>\n                        <select class=\"form-select\" aria-label=\"Default select example\" onChange={(e) => changeTypeItem(e.target.value)}>\n                            <option value=\"0\">Choose the type of your new Item</option>\n                            <option value=\"1\">2D Item</option>\n                            <option value=\"2\">3D Item</option>\n                        </select>\n                    </div>\n                </div>\n            )\n        }\n        else if(typeItem === \"2D\"){\n            console.log('2D click');\n            return(\n                <>\n                    <div class=\"d-flex justify-content-start\" style={{margin: \"1% 0 0 1%\"}}>\n                        <ItemsList items={data} deleteItem={dItem} changeItem={handleClick} addItem={addItem}></ItemsList>\n                        <div class=\"card w-50\" style={{margin:\"0 1% 0 1%\"}, {padding:\"5%\"}}>\n                            <ul>\n                                <h3>Add new Item</h3>\n                                <select class=\"form-select mb-3\" aria-label=\"Default select example\" onChange={(e) => changeTypeItem(e.target.value)}>\n                                    <option value=\"1\" selected>2D Item</option>\n                                    <option value=\"2\">3D Item</option>\n                                </select>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Title</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => name = e.target.value} placeholder=\"Title\" aria-label=\"Title\" aria-describedby=\"basic-addon1\"></input>\n                                </div>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\">Description</span>\n                                    <textarea class=\"form-control\" onChange={(e) => nItem.description = e.target.value} aria-label=\"Description\"></textarea>\n                                </div>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Latitude</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => nItem.latitude = e.target.value} placeholder=\"Latitude\" aria-label=\"Latitude\" aria-describedby=\"basic-addon1\"></input>\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Longitude</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => nItem.longitude = e.target.value} placeholder=\"Longitude\" aria-label=\"Longitude\" aria-describedby=\"basic-addon1\"></input>\n                                </div>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Category</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => nItem.category = e.target.value} placeholder=\"Category\" aria-label=\"Category\" aria-describedby=\"basic-addon1\"></input>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label for=\"formFile\" class=\"form-label\">Choose a file for your 2D item.</label>\n                                    <input class=\"form-control\" id=\"file-input\" placeholder=\"Choose a file\" type=\"file\" onChange={(e) => nItem.file = e.target.files[0]}></input>\n                                </div>\n                                <button type=\"submit\" class=\"btn btn-primary\" onClick={upLoadItem}>Upload</button>\n                            </ul>\n                        </div>\n                    </div>\n                </>\n            )\n        } \n        else if(typeItem === \"3D\"){\n            console.log('3d click')\n            return(\n                <>\n                    <div class=\"d-flex justify-content-start\" style={{margin: \"1% 0 0 1%\"}}>\n                        <ItemsList items={data} deleteItem={dItem} changeItem={handleClick} addItem={addItem}></ItemsList>\n                        <div class=\"card w-50\" style={{margin:\"0 1% 0 1%\"}, {padding:\"5%\"}}>\n                            <ul>\n                                <h3>Add new Item</h3>\n                                <select class=\"form-select mb-3\" aria-label=\"Default select example\" onChange={(e) => changeTypeItem(e.target.value)}>\n                                    <option value=\"1\">2D Item</option>\n                                    <option value=\"2\" selected>3D Item</option>\n                                </select>\n                                <div class=\"mb-3\">\n                                    <label for=\"formFile\" class=\"form-label\">Choose a logo for your item.</label>\n                                    <input class=\"form-control\"  placeholder=\"Choose a file\" accept=\"\" type=\"file\" onChange={(e) => nItem.logoImageReference = e.target.files[0]}></input>\n                                </div>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Title</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => name = e.target.value} placeholder=\"Title\" aria-label=\"Title\" aria-describedby=\"basic-addon1\"></input>\n                                </div>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\">Description</span>\n                                    <textarea class=\"form-control\" onChange={(e) => nItem.description = e.target.value} aria-label=\"Description\"></textarea>\n                                </div>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Latitude</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => nItem.latitude = e.target.value} placeholder=\"Latitude\" aria-label=\"Latitude\" aria-describedby=\"basic-addon1\"></input>\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Longitude</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => nItem.longitude = e.target.value} placeholder=\"Longitude\" aria-label=\"Longitude\" aria-describedby=\"basic-addon1\"></input>\n                                </div>\n                                <div class=\"input-group mb-3\">\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">Category</span>\n                                    <input type=\"text\" class=\"form-control\" onChange={(e) => nItem.category = e.target.value} placeholder=\"Category\" aria-label=\"Category\" aria-describedby=\"basic-addon1\"></input>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label for=\"formFile\" class=\"form-label\">Choose a GLTF file.</label>\n                                    <input class=\"form-control\"  placeholder=\"Choose a file\" accept=\".gltf\" type=\"file\" onChange={(e) => nItem.gltfFile = e.target.files[0]}></input>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label for=\"formFile\" class=\"form-label\">Choose a BIN file.</label>\n                                    <input class=\"form-control\"  placeholder=\"Choose a file\" accept=\".bin\" type=\"file\" onChange={(e) => nItem.binFile = e.target.files[0]}></input>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label for=\"formFile\" class=\"form-label\">Choose the textures files.</label>\n                                    <input class=\"form-control\" id=\"file-input\" placeholder=\"Choose a file\" type=\"file\" multiple onChange={(e) => nItem.textureFiles = e.target.files}></input>\n                                </div>\n                                <button type=\"submit\" class=\"btn btn-primary\" onClick={upLoadItem}>Upload</button>\n                            </ul>\n                        </div>\n                    </div>\n                </>\n            )\n        }\n    }\n    else if(state === \"uploadingItem\"){\n        return(\n            <>\n            <ItemsList items={data} deleteItem={dItem} changeItem={handleClick} addItem={addItem}></ItemsList>\n            <div class=\"spinner-border\" role=\"status\">\n                <span class=\"visually-hidden\">Loading...</span> \n            </div>\n            </>\n        )\n    }\n    else{\n        return(\n            <>\n                <div class=\"spinner-border\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span> \n                </div>\n            </>\n        )\n    }\n}\n\n\nfunction ProjectDetails(){\n\n}\n\nexport default Workspace;","import Header from './Header'\nimport { useCookies } from \"react-cookie\"\nimport React, {useEffect, useState} from \"react\";\nimport Workspace from './Workspace';\nimport './App.css'\n\nexport default function App(){\n    const [cookies, setCookie, removeCookie] = useCookies([\"user\"]);\n    const [loggedInUser, setLoggedInUser] = useState('false');\n    const [test, setTest] = useState();\n\n    \n\n    useEffect(() => {\n        if(cookies.username === undefined){\n            setLoggedInUser('false')\n        }\n        else{\n            setLoggedInUser('true')\n        }\n    });\n\n    useEffect(() => {\n        /*var updatedCookies = cookies;\n        console.log(cookies.username);\n        if(cookies.username === undefined && loggedInUser==='true'){\n            setLoggedInUser('false');\n            updatedCookies.isLogged = 'false';\n            setCookie(updatedCookies);\n        }\n        else if(cookies.username !== undefined && loggedInUser === 'false'){\n            setLoggedInUser('true');\n            updatedCookies.isLogged = 'true';\n            setCookie(updatedCookies);\n        }*/\n    },[loggedInUser, cookies]);\n\n    useEffect(() => {\n        console.log(cookies.username)\n        console.log(loggedInUser);\n        //console.log(loggedInUser);\n    }, [loggedInUser])\n\n    function handleLogged(value){\n        setLoggedInUser(value)\n    }\n\n\n    function handleCookie(set, name, value, options){\n        console.log(\"handle cookies\")\n        if(set === 'true'){\n            setCookie(name, value, options);\n            if(name!=='isLogged' || value !== 'false'){\n                setLoggedInUser('true');\n            }\n            else if(name === 'isLogged' && value === 'false'){\n                setLoggedInUser('false');\n            }\n        }\n        else{\n            removeCookie(name);\n            setLoggedInUser('false');\n        }\n    }\n    return(\n        <>\n            <Header handleLoging={handleLogged} logged={loggedInUser} cookies={cookies} handleCookie={handleCookie} ></Header>\n            <Workspace cookies={cookies} logged={loggedInUser} ></Workspace>\n            <gltf-viewer interactive width=\"300\" height=\"300\" src=\"../public/corridorFloor.gltf\"></gltf-viewer>\n            <img src=\"../public/corridorFloor.gltf\" alt=\"\" />\n        </>\n    )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport { CookiesProvider } from \"react-cookie\";\nimport App from './App';\n\nReactDOM.render(\n  <CookiesProvider>\n      <App></App>\n  </CookiesProvider>,\n  document.getElementById('header')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}