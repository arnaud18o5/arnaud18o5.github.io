{"ast":null,"code":"import _objectSpread from\"/Users/arnaudavocatgros/Documents/GitHub/arnaud18o5.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/arnaudavocatgros/Documents/GitHub/arnaud18o5.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ItemsList(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),choice=_useState4[0],setChoice=_useState4[1];useEffect(function(){console.log(\"useEffect itemlist changed\");//if(items === null){\nif(props.items!==null){var newItems=props.items;newItems.map(function(item){if(item!==choice)item.classN=\"list-group-item list-group-item-action\";});setItems(newItems);}// }\n},[props]);/*useEffect(() => {\n        if(items !== null){\n            var updatedItems = items.map((item) => {\n                if(item.classN === null){\n                item.classN = \"list-group-item list-group-item-action\";\n                }\n            });\n            setItems(updatedItems);\n        }\n    }, [items])*/useEffect(function(){console.log(\"change item in item list\");if(choice!==null){items.map(function(item){if(item.classN===\"list-group-item list-group-item-action active\"){props.changeItem(item);console.log(\"click on an item\");}});}},[items]);function handleClick(id){var updatedItems=items.map(function(item){return item._id===id?_objectSpread(_objectSpread({},item),{},{classN:\"list-group-item list-group-item-action active\"}):_objectSpread(_objectSpread({},item),{},{classN:\"list-group-item list-group-item-action\"});});items.map(function(item){if(item._id===id)setChoice(items);});setItems(updatedItems);}if(items!==null){return/*#__PURE__*/_jsx(\"div\",{className:\" card w-25 p-3 h-75 start-0\",style:({height:\"75%\"},{backgroundColor:\"#EFEFEF\"},{padding:\"0\"}),children:/*#__PURE__*/_jsxs(\"div\",{class:\"list-group w-100\",style:{margin:\"0\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list-group-item gray-400 d-flex justify-content-between align-items-center \",children:[\"My items : \",/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-sm btn-secondary\",onClick:props.addItem,children:\"+\"})]}),items.map(function(d){return/*#__PURE__*/_jsx(\"button\",{class:d.classN,\"aria-current\":\"true\",onClick:function onClick(){return handleClick(d._id);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-group-item d-flex justify-content-between align-items-center \",style:{borderWidth:\"0\",backgroundColor:\"transparent\"},children:[d.name,/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger btn-sm position-absolute top-25 end-0\",onClick:function onClick(){return props.deleteItem(d._id);},children:\"X\"})]})});})]})});}else{return/*#__PURE__*/_jsx(\"p\",{children:\"Rien a afficher\"});}}","map":{"version":3,"sources":["/Users/arnaudavocatgros/Documents/GitHub/arnaud18o5.github.io/src/ItemsList.js"],"names":["React","useEffect","useState","ItemsList","props","items","setItems","choice","setChoice","console","log","newItems","map","item","classN","changeItem","handleClick","id","updatedItems","_id","height","backgroundColor","padding","margin","addItem","d","borderWidth","name","deleteItem"],"mappings":"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","sourcesContent":["import React, { useEffect,useState} from \"react\";\n\nexport default function ItemsList(props){\n    const [items, setItems] = useState(null);\n    const [choice, setChoice] = useState(null);\n\n    useEffect(() => {\n        console.log(\"useEffect itemlist changed\")\n        //if(items === null){\n            if(props.items !== null){\n                var newItems = props.items;\n                newItems.map((item) => {\n                    if(item !== choice)\n                        item.classN = \"list-group-item list-group-item-action\";\n                })\n                setItems(newItems);\n            }\n       // }\n    }, [props])\n\n    /*useEffect(() => {\n        if(items !== null){\n            var updatedItems = items.map((item) => {\n                if(item.classN === null){\n                item.classN = \"list-group-item list-group-item-action\";\n                }\n            });\n            setItems(updatedItems);\n        }\n    }, [items])*/\n\n    useEffect(() => {\n        console.log(\"change item in item list\")\n        if(choice !== null){\n            items.map((item) => {\n                if(item.classN === \"list-group-item list-group-item-action active\"){\n                    props.changeItem(item);\n                    console.log(\"click on an item\")\n                }\n            })\n        }\n    }, [items])\n\n    \n\n    function handleClick(id){\n            var updatedItems = items.map((item) => item._id === id ? {\n                ...item,\n                classN: \"list-group-item list-group-item-action active\"\n                } : {...item,\n                classN:\"list-group-item list-group-item-action\"});\n                items.map((item) => {if(item._id === id)  setChoice(items)});\n            setItems(updatedItems)\n            \n    }\n\n\n    if(items !== null){\n        return(\n            <div className=\" card w-25 p-3 h-75 start-0\" style={{height:\"75%\"},{backgroundColor:\"#EFEFEF\"},{padding:\"0\"}}>\n                \n                <div class=\"list-group w-100\" style={{margin:\"0\"}}>\n                    <div className=\"list-group-item gray-400 d-flex justify-content-between align-items-center \">My items : <button class=\"btn btn-sm btn-secondary\" onClick={props.addItem}>+</button></div>\n                    {items.map(d => (\n                        <button class={d.classN} aria-current=\"true\" onClick={() => handleClick(d._id)}><div className=\"list-group-item d-flex justify-content-between align-items-center \" style={{borderWidth:\"0\", backgroundColor:\"transparent\"}}>{d.name}<button class=\"btn btn-danger btn-sm position-absolute top-25 end-0\" onClick={() => props.deleteItem(d._id)}>X</button></div></button>\n                    ))}\n                </div>\n            </div>\n        )\n    }\n    else{\n        return(\n            <p>Rien a afficher</p>\n        );\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}