{"ast":null,"code":"var _jsxFileName = \"/Users/arnaudavocatgros/Documents/GitHub/AR_VR_Map_WebSite/src/Header.js\";\nimport './Header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'jquery/dist/jquery.min.js';\nimport bootstrap from 'bootstrap/dist/js/bootstrap.min.js';\nimport SignUpModal from \"./SignUpModal\";\nimport React, { useEffect, useState } from \"react\";\n\nfunction Header(props) {\n  var username = \"\";\n  var password = \"\";\n  const [cookies, setCookies] = useState(props.cookies);\n  const [isLogged, setIsLogged] = useState(props.isLogged);\n  console.log(props.logged);\n  /*useEffect(()=>{\n    setCookies(props.cookies);\n    cook = props.cookies;\n    console.log(\"useeffect\");\n  }, [cookies]);*/\n\n  /*var cookies = props.cookies;\n  const [username, setUsername] = useState(props.cookies.username);\n  const [password, setPassword] = useState('');\n  const [logged, setLogged] = useState(props.cookies.isLogged);\n  console.log(\"cookies.isLogged.header = \" + props.cookies.isLogged);\n  console.log(\"logged const header = \" + logged);\n   \n  useEffect(() => {\n    if(props.cookies.isLogged !== logged){\n      setLogged(props.cookies.isLogged);\n    }\n    if(props.cookies !== cookies){\n      cookies = props.cookies;\n      setUsername(props.cookies.username);\n      setLogged(props.cookies.isLogged);\n    }\n    console.log(\"changement header = \" + logged);\n  })*/\n\n  /*useEffect(() => {\n    console.log(props.cookies)\n    if(props.cookies.isLogged === 'true'){\n      props.handleLoging('true');\n    }\n    else if(props.cookies.isLogged === 'false'){\n        props.handleLoging('false');\n    }\n  })*/\n\n  useEffect(() => {\n    if (props.cookies.username !== null && props.cookies.username !== undefined) {\n      console.log(\"isLogged Ã  true\");\n      var updatedCookies = props.cookies;\n      updatedCookies.isLogged = 'true';\n      setCookies(updatedCookies);\n    } else {\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [props.cookies, username]);\n  useEffect(() => {\n    if (cookies === null) {\n      var updatedCookies = new Object(); // changer ca pour le faire a la fin du setcookies\n\n      updatedCookies.isLogged = 'false';\n      setCookies(updatedCookies);\n    } else {\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [cookies]);\n\n  function login() {\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/login\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(response => response.json()).then(data => cblogin(data)).catch(error => {\n      wrongLogin(error);\n    });\n    props.handleLoging('Loading');\n  }\n\n  function register(u, p) {\n    username = u;\n    password = p;\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/register\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: u,\n        password: p,\n        contentManager: 1\n      })\n    }).then(response => {\n      login();\n    });\n  }\n\n  function disconnect() {\n    props.handleCookie('false', 'token');\n    props.handleCookie('false', 'username');\n    props.handleCookie('true', 'isLogged', 'false', {\n      path: '/'\n    });\n    setIsLogged('false'); //setCookies(null); // probleme de synchro ici \n    //setLogged('false');\n  }\n\n  function cblogin(data) {\n    props.handleCookie('true', 'token', data.message, {\n      path: '/'\n    });\n    props.handleCookie('true', 'username', username, {\n      path: '/'\n    });\n    props.handleCookie('true', 'isLogged', 'true', {\n      path: '/'\n    });\n    setIsLogged(\"true\"); //setLogged('true');\n  }\n\n  function wrongLogin(error) {\n    showModal(\"Sign-In-Modal-Error\");\n  }\n\n  console.log(\"isLogged = \" + isLogged);\n\n  if (isLogged === 'true') {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"left-buttons d-flex justify-content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"navbar-brand\",\n      style: {\n        padding: \"3%\"\n      },\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/logo.jpg\",\n      alt: \"\",\n      width: \"10%\",\n      class: \"d-inline-block align-text-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 66\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('home'),\n      class: \"btn btn-link nav-link active text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('workspace'),\n      class: \"btn btn-link nav-link text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, \"My Workspace\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-buttons d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: disconnect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, cookies.username))));\n  } else if (isLogged === 'false') {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"left-buttons d-flex justify-content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('home'),\n      class: \"btn btn-link nav-link active text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./public/logo.jpg\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('home'),\n      class: \"btn btn-link nav-link active text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('workspace'),\n      class: \"btn btn-link nav-link text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, \"My Workspace\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-buttons d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-outline-light\",\n      onClick: () => showModal('Sign-In-Modal'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-warning\",\n      onClick: () => showModal('Sign-Up-Modal'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \"Sign-Up\")))), /*#__PURE__*/React.createElement(SignUpModal, {\n      handleRegistration: register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal fade\",\n      id: \"Sign-In-Modal\",\n      \"aria-hidden\": \"true\",\n      \"aria-labelledby\": \"exampleModalToggleLabel\",\n      tabindex: \"-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-dialog modal-dialog-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"modal-title\",\n      id: \"exampleModalToggleLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }, \"Login to your account\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn-close\",\n      \"data-bs-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 19\n      }\n    }, \"@\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      onChange: e => username = e.target.value,\n      placeholder: \"Username\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control\",\n      onChange: e => password = e.target.value,\n      placeholder: \"Password\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary justify-content-center\",\n      \"data-bs-dismiss\": \"modal\",\n      onClick: () => login(\"Sign-In-Modal\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, \"Sign-In\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal fade\",\n      id: \"Sign-In-Modal-Error\",\n      \"aria-hidden\": \"true\",\n      \"aria-labelledby\": \"exampleModalToggleLabel\",\n      tabindex: \"-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-dialog modal-dialog-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"modal-title\",\n      id: \"exampleModalToggleLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, \"Login to your account\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn-close\",\n      \"data-bs-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control is-invalid\",\n      onChange: e => username = e.target.value,\n      id: \"validationServerUsername\",\n      \"aria-describedby\": \"inputGroupPrepend3 validationServerUsernameFeedback\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"validationServerUsernameFeedback\",\n      class: \"invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }, \"Enter your username again.\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control is-invalid\",\n      onChange: e => password = e.target.value,\n      id: \"validationServerUsername\",\n      \"aria-describedby\": \"inputGroupPrepend3 validationServerUsernameFeedback\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"validationServerUsernameFeedback\",\n      class: \"invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, \"Enter your password again.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary justify-content-center\",\n      \"data-bs-dismiss\": \"modal\",\n      onClick: () => login(\"Sign-In-Modal\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }, \"Sign-In\")))))));\n  } else {\n    setIsLogged('false');\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"left-buttons d-flex justify-content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('home'),\n      class: \"btn btn-link nav-link active text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./public/logo.jpg\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('home'),\n      class: \"btn btn-link nav-link active text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 15\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handlePage('workspace'),\n      class: \"btn btn-link nav-link text-light fs-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }, \"My Workspace\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-buttons d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"spinner-border text-light\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"visually-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }, \"Loading...\")))));\n  }\n}\n\n;\n\nfunction closeModal(modal) {\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.modal('hide');\n}\n\n;\n\nfunction showModal(modal) {\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.show();\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/arnaudavocatgros/Documents/GitHub/AR_VR_Map_WebSite/src/Header.js"],"names":["bootstrap","SignUpModal","React","useEffect","useState","Header","props","username","password","cookies","setCookies","isLogged","setIsLogged","console","log","logged","undefined","updatedCookies","Object","login","fetch","method","headers","body","JSON","stringify","then","response","json","data","cblogin","catch","error","wrongLogin","handleLoging","register","u","p","contentManager","disconnect","handleCookie","path","message","showModal","padding","handlePage","e","target","value","closeModal","modal","myModal","Modal","document","getElementById","keyboard","show"],"mappings":"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","sourcesContent":["import './Header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'jquery/dist/jquery.min.js'\nimport bootstrap from 'bootstrap/dist/js/bootstrap.min.js'\nimport SignUpModal from \"./SignUpModal\"\nimport React, { useEffect,useState} from \"react\";\n\n\nfunction Header(props) { \n  var username = \"\";\n  var password = \"\";\n  const [cookies, setCookies] = useState(props.cookies);\n  const [isLogged, setIsLogged] = useState(props.isLogged);\n  console.log(props.logged)\n\n  /*useEffect(()=>{\n    setCookies(props.cookies);\n    cook = props.cookies;\n    console.log(\"useeffect\");\n  }, [cookies]);*/\n\n  /*var cookies = props.cookies;\n  const [username, setUsername] = useState(props.cookies.username);\n  const [password, setPassword] = useState('');\n  const [logged, setLogged] = useState(props.cookies.isLogged);\n  console.log(\"cookies.isLogged.header = \" + props.cookies.isLogged);\n  console.log(\"logged const header = \" + logged);\n\n  \n  useEffect(() => {\n    if(props.cookies.isLogged !== logged){\n      setLogged(props.cookies.isLogged);\n    }\n    if(props.cookies !== cookies){\n      cookies = props.cookies;\n      setUsername(props.cookies.username);\n      setLogged(props.cookies.isLogged);\n    }\n    console.log(\"changement header = \" + logged);\n  })*/\n\n  /*useEffect(() => {\n    console.log(props.cookies)\n    if(props.cookies.isLogged === 'true'){\n      props.handleLoging('true');\n    }\n    else if(props.cookies.isLogged === 'false'){\n        props.handleLoging('false');\n    }\n  })*/\n\n  useEffect(() => {\n    if(props.cookies.username !== null && props.cookies.username !== undefined){\n      console.log(\"isLogged Ã  true\")\n      var updatedCookies = props.cookies;\n      updatedCookies.isLogged = 'true';\n      setCookies(updatedCookies);\n    }\n    else{\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [props.cookies, username])\n\n  useEffect(() => {\n    if(cookies === null){\n      var updatedCookies = new Object(); // changer ca pour le faire a la fin du setcookies\n      updatedCookies.isLogged = 'false';\n      setCookies(updatedCookies);\n    }\n    else{\n      setIsLogged(props.cookies.isLogged);\n    }\n  }, [cookies])\n  function login(){\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/login\",{\n      method:'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username: username,\n      password: password })\n    }).then((response) => \n      response.json()\n    )\n    .then((data) => \n      cblogin(data)\n    )\n    .catch((error) => {\n      wrongLogin(error);\n    })\n    props.handleLoging('Loading');\n  }\n\n  function register(u, p){\n    username = u;\n    password = p;\n    fetch(\"https://lauriari-arvr.azurewebsites.net/auth/register\",{\n      method:'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username: u,\n      password: p,\n      contentManager: 1})\n    }).then((response) => {\n      login();\n    })\n  }\n\n  function disconnect(){\n    props.handleCookie('false', 'token');\n    props.handleCookie('false', 'username')\n    props.handleCookie('true', 'isLogged', 'false', {path:'/'})\n    setIsLogged('false');\n    //setCookies(null); // probleme de synchro ici \n    //setLogged('false');\n  }\n\n  function cblogin(data){\n    props.handleCookie('true', 'token', data.message, {path:'/'});\n    props.handleCookie('true', 'username', username, {path:'/'});\n    props.handleCookie('true', 'isLogged', 'true', {path:'/'});\n    setIsLogged(\"true\");\n    //setLogged('true');\n  }\n\n  function wrongLogin(error){\n    showModal(\"Sign-In-Modal-Error\");\n  }\n\n  console.log(\"isLogged = \" + isLogged)\n  if(isLogged === 'true'){\n      return(\n        <>\n        <nav class=\"navbar bg-dark\">\n          <div class=\"left-buttons d-flex justify-content-start\">\n          <a class=\"navbar-brand\" style={{padding:\"3%\"}}href=\"#\"><img src=\"/logo.jpg\" alt=\"\" width=\"10%\" class=\"d-inline-block align-text-top\"></img></a>\n            <div class=\"link p-2 bd-highlight\">\n              <button onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n            </div>\n          </div>\n          <div className=\"right-buttons d-flex justify-content-end\">\n            <button className=\"btn btn-primary\" onClick={disconnect}>{cookies.username}</button>\n          </div>\n        </nav>\n        </>\n      )\n  }\n    else if(isLogged === 'false'){\n      return (\n        <>\n          <nav class=\"navbar bg-dark\">\n            <div class=\"left-buttons d-flex justify-content-start\">\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">\n                <img src=\"./public/logo.jpg\" alt=\"\" ></img>\n              </button>\n            </div>\n              <div class=\"link p-2 bd-highlight\">\n                <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n              </div>\n              <div class=\"link p-2 bd-highlight\">\n                <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n              </div>\n            </div>\n            <div className=\"right-buttons d-flex justify-content-end\">\n              <div className=\"p-2 bd-highlight\">\n                <button class=\"btn btn-outline-light\" onClick={() => showModal('Sign-In-Modal')}>Login</button>\n              </div>\n              <div className=\"p-2 bd-highlight\">\n                <button class=\"btn btn-warning\" onClick={() => showModal('Sign-Up-Modal')}>Sign-Up</button>\n              </div>\n            </div>\n          </nav>\n          <SignUpModal handleRegistration={register}></SignUpModal>\n          <div class=\"modal fade\" id=\"Sign-In-Modal\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-dialog-centered\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\" id=\"exampleModalToggleLabel\">Login to your account</h5>\n                  <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                <div class=\"input-group mb-3\">\n                  <span class=\"input-group-text\" id=\"basic-addon1\">@</span>\n                  <input type=\"text\" class=\"form-control\" onChange={(e) => username = e.target.value} placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                </div>\n                <div class=\"input-group mb-3\">\n                  <span class=\"input-group-text\" id=\"basic-addon1\">Password</span>\n                  <input type=\"password\" class=\"form-control\" onChange={(e) => password = e.target.value} placeholder=\"Password\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"></input>\n                </div>\n                  <div className=\"d-flex justify-content-center\">\n                    <button type=\"submit\" class=\"btn btn-primary justify-content-center\" data-bs-dismiss=\"modal\" onClick={() => login(\"Sign-In-Modal\")}>Sign-In</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal fade\" id=\"Sign-In-Modal-Error\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n          <div class=\"modal-dialog modal-dialog-centered\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalToggleLabel\">Login to your account</h5>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">Username</span>\n                <input type=\"text\" class=\"form-control is-invalid\" onChange={(e) => username = e.target.value} id=\"validationServerUsername\" aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\" required></input>\n                <div id=\"validationServerUsernameFeedback\" class=\"invalid-feedback\">\n                  Enter your username again.\n                </div>\n              </div>\n              <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">Password</span>\n                <input type=\"password\" class=\"form-control is-invalid\" onChange={(e) => password = e.target.value} id=\"validationServerUsername\" aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\" required></input>\n                <div id=\"validationServerUsernameFeedback\" class=\"invalid-feedback\">\n                  Enter your password again.\n                </div>\n              </div>\n                <div className=\"d-flex justify-content-center\">\n                  <button type=\"submit\" class=\"btn btn-primary justify-content-center\" data-bs-dismiss=\"modal\" onClick={() => login(\"Sign-In-Modal\")}>Sign-In</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        </>    \n      );\n    }\n  else{\n    setIsLogged('false');\n    return (\n      <>\n        <nav class=\"navbar bg-dark\">\n          <div class=\"left-buttons d-flex justify-content-start\">\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">\n                <img src=\"./public/logo.jpg\" alt=\"\" ></img>\n              </button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('home')} class=\"btn btn-link nav-link active text-light fs-5\">Home</button>\n            </div>\n            <div class=\"link p-2 bd-highlight\">\n              <button  onClick={() => props.handlePage('workspace')}class=\"btn btn-link nav-link text-light fs-5\">My Workspace</button>\n            </div>\n          </div>\n          <div className=\"right-buttons d-flex justify-content-end\">\n            <div class=\"spinner-border text-light\" role=\"status\">\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        </nav>\n        </>\n      \n    );\n\n    \n  }\n} ;\n\nfunction closeModal(modal){\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.modal('hide');\n};\n\nfunction showModal(modal){\n  var myModal = new bootstrap.Modal(document.getElementById(modal), {\n    keyboard: false\n  });\n  myModal.show();\n}\n\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}